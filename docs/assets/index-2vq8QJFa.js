(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Br(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const pe={},Qt=[],ft=()=>{},wo=()=>!1,Nn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ur=e=>e.startsWith("onUpdate:"),Re=Object.assign,Dr=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},cl=Object.prototype.hasOwnProperty,ae=(e,t)=>cl.call(e,t),G=Array.isArray,Zt=e=>Ln(e)==="[object Map]",So=e=>Ln(e)==="[object Set]",z=e=>typeof e=="function",ye=e=>typeof e=="string",Nt=e=>typeof e=="symbol",_e=e=>e!==null&&typeof e=="object",xo=e=>(_e(e)||z(e))&&z(e.then)&&z(e.catch),vo=Object.prototype.toString,Ln=e=>vo.call(e),ul=e=>Ln(e).slice(8,-1),Mo=e=>Ln(e)==="[object Object]",Hr=e=>ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Es=Br(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fn=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},fl=/-\w/g,$t=Fn(e=>e.replace(fl,t=>t.slice(1).toUpperCase())),dl=/\B([A-Z])/g,Wt=Fn(e=>e.replace(dl,"-$1").toLowerCase()),To=Fn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qn=Fn(e=>e?`on${To(e)}`:""),Pt=(e,t)=>!Object.is(e,t),bn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ko=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},yr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let gi;const jn=()=>gi||(gi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bn(e){if(G(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=ye(n)?ml(n):Bn(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(ye(e)||_e(e))return e}const hl=/;(?![^(]*\))/g,pl=/:([^]+)/,gl=/\/\*[^]*?\*\//g;function ml(e){const t={};return e.replace(gl,"").split(hl).forEach(s=>{if(s){const n=s.split(pl);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ze(e){let t="";if(ye(e))t=e;else if(G(e))for(let s=0;s<e.length;s++){const n=ze(e[s]);n&&(t+=n+" ")}else if(_e(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const _l="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bl=Br(_l);function Ao(e){return!!e||e===""}const Eo=e=>!!(e&&e.__v_isRef===!0),ce=e=>ye(e)?e:e==null?"":G(e)||_e(e)&&(e.toString===vo||!z(e.toString))?Eo(e)?ce(e.value):JSON.stringify(e,Po,2):String(e),Po=(e,t)=>Eo(t)?Po(e,t.value):Zt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[Zn(n,i)+" =>"]=r,s),{})}:So(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Zn(s))}:Nt(t)?Zn(t):_e(t)&&!G(t)&&!Mo(t)?String(t):t,Zn=(e,t="")=>{var s;return Nt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let De;class yl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=De,!t&&De&&(this.index=(De.scopes||(De.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=De;try{return De=this,t()}finally{De=s}}}on(){++this._on===1&&(this.prevScope=De,De=this)}off(){this._on>0&&--this._on===0&&(De=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function wl(){return De}let me;const er=new WeakSet;class Ro{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,De&&De.active&&De.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,er.has(this)&&(er.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Co(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mi(this),Io(this);const t=me,s=tt;me=this,tt=!0;try{return this.fn()}finally{Oo(this),me=t,tt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Kr(t);this.deps=this.depsTail=void 0,mi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?er.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wr(this)&&this.run()}get dirty(){return wr(this)}}let $o=0,Ps,Rs;function Co(e,t=!1){if(e.flags|=8,t){e.next=Rs,Rs=e;return}e.next=Ps,Ps=e}function Wr(){$o++}function qr(){if(--$o>0)return;if(Rs){let t=Rs;for(Rs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ps;){let t=Ps;for(Ps=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Io(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Oo(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Kr(n),Sl(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function wr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(No(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function No(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ls)||(e.globalVersion=Ls,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!wr(e))))return;e.flags|=2;const t=e.dep,s=me,n=tt;me=e,tt=!0;try{Io(e);const r=e.fn(e._value);(t.version===0||Pt(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{me=s,tt=n,Oo(e),e.flags&=-3}}function Kr(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Kr(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Sl(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let tt=!0;const Lo=[];function wt(){Lo.push(tt),tt=!1}function St(){const e=Lo.pop();tt=e===void 0?!0:e}function mi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=me;me=void 0;try{t()}finally{me=s}}}let Ls=0;class xl{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!me||!tt||me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==me)s=this.activeLink=new xl(me,this),me.deps?(s.prevDep=me.depsTail,me.depsTail.nextDep=s,me.depsTail=s):me.deps=me.depsTail=s,Fo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=me.depsTail,s.nextDep=void 0,me.depsTail.nextDep=s,me.depsTail=s,me.deps===s&&(me.deps=n)}return s}trigger(t){this.version++,Ls++,this.notify(t)}notify(t){Wr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{qr()}}}function Fo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Fo(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Sr=new WeakMap,Ht=Symbol(""),xr=Symbol(""),Fs=Symbol("");function Pe(e,t,s){if(tt&&me){let n=Sr.get(e);n||Sr.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new Vr),r.map=n,r.key=s),r.track()}}function _t(e,t,s,n,r,i){const o=Sr.get(e);if(!o){Ls++;return}const a=l=>{l&&l.trigger()};if(Wr(),t==="clear")o.forEach(a);else{const l=G(e),f=l&&Hr(s);if(l&&s==="length"){const u=Number(n);o.forEach((h,_)=>{(_==="length"||_===Fs||!Nt(_)&&_>=u)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),f&&a(o.get(Fs)),t){case"add":l?f&&a(o.get("length")):(a(o.get(Ht)),Zt(e)&&a(o.get(xr)));break;case"delete":l||(a(o.get(Ht)),Zt(e)&&a(o.get(xr)));break;case"set":Zt(e)&&a(o.get(Ht));break}}qr()}function qt(e){const t=oe(e);return t===e?t:(Pe(t,"iterate",Fs),Ye(e)?t:t.map(ke))}function Un(e){return Pe(e=oe(e),"iterate",Fs),e}const vl={__proto__:null,[Symbol.iterator](){return tr(this,Symbol.iterator,ke)},concat(...e){return qt(this).concat(...e.map(t=>G(t)?qt(t):t))},entries(){return tr(this,"entries",e=>(e[1]=ke(e[1]),e))},every(e,t){return ht(this,"every",e,t,void 0,arguments)},filter(e,t){return ht(this,"filter",e,t,s=>s.map(ke),arguments)},find(e,t){return ht(this,"find",e,t,ke,arguments)},findIndex(e,t){return ht(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ht(this,"findLast",e,t,ke,arguments)},findLastIndex(e,t){return ht(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ht(this,"forEach",e,t,void 0,arguments)},includes(...e){return sr(this,"includes",e)},indexOf(...e){return sr(this,"indexOf",e)},join(e){return qt(this).join(e)},lastIndexOf(...e){return sr(this,"lastIndexOf",e)},map(e,t){return ht(this,"map",e,t,void 0,arguments)},pop(){return us(this,"pop")},push(...e){return us(this,"push",e)},reduce(e,...t){return _i(this,"reduce",e,t)},reduceRight(e,...t){return _i(this,"reduceRight",e,t)},shift(){return us(this,"shift")},some(e,t){return ht(this,"some",e,t,void 0,arguments)},splice(...e){return us(this,"splice",e)},toReversed(){return qt(this).toReversed()},toSorted(e){return qt(this).toSorted(e)},toSpliced(...e){return qt(this).toSpliced(...e)},unshift(...e){return us(this,"unshift",e)},values(){return tr(this,"values",ke)}};function tr(e,t,s){const n=Un(e),r=n[t]();return n!==e&&!Ye(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=s(i.value)),i}),r}const Ml=Array.prototype;function ht(e,t,s,n,r,i){const o=Un(e),a=o!==e&&!Ye(e),l=o[t];if(l!==Ml[t]){const h=l.apply(e,i);return a?ke(h):h}let f=s;o!==e&&(a?f=function(h,_){return s.call(this,ke(h),_,e)}:s.length>2&&(f=function(h,_){return s.call(this,h,_,e)}));const u=l.call(o,f,n);return a&&r?r(u):u}function _i(e,t,s,n){const r=Un(e);let i=s;return r!==e&&(Ye(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,ke(a),l,e)}),r[t](i,...n)}function sr(e,t,s){const n=oe(e);Pe(n,"iterate",Fs);const r=n[t](...s);return(r===-1||r===!1)&&Gr(s[0])?(s[0]=oe(s[0]),n[t](...s)):r}function us(e,t,s=[]){wt(),Wr();const n=oe(e)[t].apply(e,s);return qr(),St(),n}const Tl=Br("__proto__,__v_isRef,__isVue"),jo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Nt));function kl(e){Nt(e)||(e=String(e));const t=oe(this);return Pe(t,"has",e),t.hasOwnProperty(e)}class Bo{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Ll:Wo:i?Ho:Do).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=G(t);if(!r){let l;if(o&&(l=vl[s]))return l;if(s==="hasOwnProperty")return kl}const a=Reflect.get(t,s,ve(t)?t:n);if((Nt(s)?jo.has(s):Tl(s))||(r||Pe(t,"get",s),i))return a;if(ve(a)){const l=o&&Hr(s)?a:a.value;return r&&_e(l)?Mr(l):l}return _e(a)?r?Mr(a):is(a):a}}class Uo extends Bo{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(!this._isShallow){const l=Ct(i);if(!Ye(n)&&!Ct(n)&&(i=oe(i),n=oe(n)),!G(t)&&ve(i)&&!ve(n))return l||(i.value=n),!0}const o=G(t)&&Hr(s)?Number(s)<t.length:ae(t,s),a=Reflect.set(t,s,n,ve(t)?t:r);return t===oe(r)&&(o?Pt(n,i)&&_t(t,"set",s,n):_t(t,"add",s,n)),a}deleteProperty(t,s){const n=ae(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&_t(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!Nt(s)||!jo.has(s))&&Pe(t,"has",s),n}ownKeys(t){return Pe(t,"iterate",G(t)?"length":Ht),Reflect.ownKeys(t)}}class Al extends Bo{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const El=new Uo,Pl=new Al,Rl=new Uo(!0);const vr=e=>e,zs=e=>Reflect.getPrototypeOf(e);function $l(e,t,s){return function(...n){const r=this.__v_raw,i=oe(r),o=Zt(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,f=r[e](...n),u=s?vr:t?Tn:ke;return!t&&Pe(i,"iterate",l?xr:Ht),{next(){const{value:h,done:_}=f.next();return _?{value:h,done:_}:{value:a?[u(h[0]),u(h[1])]:u(h),done:_}},[Symbol.iterator](){return this}}}}function Ys(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Cl(e,t){const s={get(r){const i=this.__v_raw,o=oe(i),a=oe(r);e||(Pt(r,a)&&Pe(o,"get",r),Pe(o,"get",a));const{has:l}=zs(o),f=t?vr:e?Tn:ke;if(l.call(o,r))return f(i.get(r));if(l.call(o,a))return f(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Pe(oe(r),"iterate",Ht),r.size},has(r){const i=this.__v_raw,o=oe(i),a=oe(r);return e||(Pt(r,a)&&Pe(o,"has",r),Pe(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=oe(a),f=t?vr:e?Tn:ke;return!e&&Pe(l,"iterate",Ht),a.forEach((u,h)=>r.call(i,f(u),f(h),o))}};return Re(s,e?{add:Ys("add"),set:Ys("set"),delete:Ys("delete"),clear:Ys("clear")}:{add(r){!t&&!Ye(r)&&!Ct(r)&&(r=oe(r));const i=oe(this);return zs(i).has.call(i,r)||(i.add(r),_t(i,"add",r,r)),this},set(r,i){!t&&!Ye(i)&&!Ct(i)&&(i=oe(i));const o=oe(this),{has:a,get:l}=zs(o);let f=a.call(o,r);f||(r=oe(r),f=a.call(o,r));const u=l.call(o,r);return o.set(r,i),f?Pt(i,u)&&_t(o,"set",r,i):_t(o,"add",r,i),this},delete(r){const i=oe(this),{has:o,get:a}=zs(i);let l=o.call(i,r);l||(r=oe(r),l=o.call(i,r)),a&&a.call(i,r);const f=i.delete(r);return l&&_t(i,"delete",r,void 0),f},clear(){const r=oe(this),i=r.size!==0,o=r.clear();return i&&_t(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=$l(r,e,t)}),s}function Jr(e,t){const s=Cl(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(ae(s,r)&&r in n?s:n,r,i)}const Il={get:Jr(!1,!1)},Ol={get:Jr(!1,!0)},Nl={get:Jr(!0,!1)};const Do=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,Ll=new WeakMap;function Fl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jl(e){return e.__v_skip||!Object.isExtensible(e)?0:Fl(ul(e))}function is(e){return Ct(e)?e:Xr(e,!1,El,Il,Do)}function Bl(e){return Xr(e,!1,Rl,Ol,Ho)}function Mr(e){return Xr(e,!0,Pl,Nl,Wo)}function Xr(e,t,s,n,r){if(!_e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=jl(e);if(i===0)return e;const o=r.get(e);if(o)return o;const a=new Proxy(e,i===2?n:s);return r.set(e,a),a}function es(e){return Ct(e)?es(e.__v_raw):!!(e&&e.__v_isReactive)}function Ct(e){return!!(e&&e.__v_isReadonly)}function Ye(e){return!!(e&&e.__v_isShallow)}function Gr(e){return e?!!e.__v_raw:!1}function oe(e){const t=e&&e.__v_raw;return t?oe(t):e}function Ul(e){return!ae(e,"__v_skip")&&Object.isExtensible(e)&&ko(e,"__v_skip",!0),e}const ke=e=>_e(e)?is(e):e,Tn=e=>_e(e)?Mr(e):e;function ve(e){return e?e.__v_isRef===!0:!1}function Te(e){return Dl(e,!1)}function Dl(e,t){return ve(e)?e:new Hl(e,t)}class Hl{constructor(t,s){this.dep=new Vr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:oe(t),this._value=s?t:ke(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Ye(t)||Ct(t);t=n?t:oe(t),Pt(t,s)&&(this._rawValue=t,this._value=n?t:ke(t),this.dep.trigger())}}function le(e){return ve(e)?e.value:e}const Wl={get:(e,t,s)=>t==="__v_raw"?e:le(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return ve(r)&&!ve(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function qo(e){return es(e)?e:new Proxy(e,Wl)}class ql{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Vr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ls-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&me!==this)return Co(this,!0),!0}get value(){const t=this.dep.track();return No(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Kl(e,t,s=!1){let n,r;return z(e)?n=e:(n=e.get,r=e.set),new ql(n,r,s)}const Qs={},kn=new WeakMap;let Ut;function Vl(e,t=!1,s=Ut){if(s){let n=kn.get(s);n||kn.set(s,n=[]),n.push(e)}}function Jl(e,t,s=pe){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,f=E=>r?E:Ye(E)||r===!1||r===0?bt(E,1):bt(E);let u,h,_,p,S=!1,T=!1;if(ve(e)?(h=()=>e.value,S=Ye(e)):es(e)?(h=()=>f(e),S=!0):G(e)?(T=!0,S=e.some(E=>es(E)||Ye(E)),h=()=>e.map(E=>{if(ve(E))return E.value;if(es(E))return f(E);if(z(E))return l?l(E,2):E()})):z(e)?t?h=l?()=>l(e,2):e:h=()=>{if(_){wt();try{_()}finally{St()}}const E=Ut;Ut=u;try{return l?l(e,3,[p]):e(p)}finally{Ut=E}}:h=ft,t&&r){const E=h,B=r===!0?1/0:r;h=()=>bt(E(),B)}const K=wl(),I=()=>{u.stop(),K&&K.active&&Dr(K.effects,u)};if(i&&t){const E=t;t=(...B)=>{E(...B),I()}}let W=T?new Array(e.length).fill(Qs):Qs;const O=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(t){const B=u.run();if(r||S||(T?B.some((he,re)=>Pt(he,W[re])):Pt(B,W))){_&&_();const he=Ut;Ut=u;try{const re=[B,W===Qs?void 0:T&&W[0]===Qs?[]:W,p];W=B,l?l(t,3,re):t(...re)}finally{Ut=he}}}else u.run()};return a&&a(O),u=new Ro(h),u.scheduler=o?()=>o(O,!1):O,p=E=>Vl(E,!1,u),_=u.onStop=()=>{const E=kn.get(u);if(E){if(l)l(E,4);else for(const B of E)B();kn.delete(u)}},t?n?O(!0):W=u.run():o?o(O.bind(null,!0),!0):u.run(),I.pause=u.pause.bind(u),I.resume=u.resume.bind(u),I.stop=I,I}function bt(e,t=1/0,s){if(t<=0||!_e(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,ve(e))bt(e.value,t,s);else if(G(e))for(let n=0;n<e.length;n++)bt(e[n],t,s);else if(So(e)||Zt(e))e.forEach(n=>{bt(n,t,s)});else if(Mo(e)){for(const n in e)bt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&bt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qs(e,t,s,n){try{return n?e(...n):e()}catch(r){Dn(r,t,s)}}function dt(e,t,s,n){if(z(e)){const r=qs(e,t,s,n);return r&&xo(r)&&r.catch(i=>{Dn(i,t,s)}),r}if(G(e)){const r=[];for(let i=0;i<e.length;i++)r.push(dt(e[i],t,s,n));return r}}function Dn(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||pe;if(t){let a=t.parent;const l=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,f)===!1)return}a=a.parent}if(i){wt(),qs(i,null,10,[e,l,f]),St();return}}Xl(e,s,r,n,o)}function Xl(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const Le=[];let at=-1;const ts=[];let At=null,Xt=0;const Ko=Promise.resolve();let An=null;function lt(e){const t=An||Ko;return e?t.then(this?e.bind(this):e):t}function Gl(e){let t=at+1,s=Le.length;for(;t<s;){const n=t+s>>>1,r=Le[n],i=js(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function zr(e){if(!(e.flags&1)){const t=js(e),s=Le[Le.length-1];!s||!(e.flags&2)&&t>=js(s)?Le.push(e):Le.splice(Gl(t),0,e),e.flags|=1,Vo()}}function Vo(){An||(An=Ko.then(Xo))}function zl(e){G(e)?ts.push(...e):At&&e.id===-1?At.splice(Xt+1,0,e):e.flags&1||(ts.push(e),e.flags|=1),Vo()}function bi(e,t,s=at+1){for(;s<Le.length;s++){const n=Le[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Le.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Jo(e){if(ts.length){const t=[...new Set(ts)].sort((s,n)=>js(s)-js(n));if(ts.length=0,At){At.push(...t);return}for(At=t,Xt=0;Xt<At.length;Xt++){const s=At[Xt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}At=null,Xt=0}}const js=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Xo(e){try{for(at=0;at<Le.length;at++){const t=Le[at];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),qs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;at<Le.length;at++){const t=Le[at];t&&(t.flags&=-2)}at=-1,Le.length=0,Jo(),An=null,(Le.length||ts.length)&&Xo()}}let Ge=null,Go=null;function En(e){const t=Ge;return Ge=e,Go=e&&e.type.__scopeId||null,t}function Yl(e,t=Ge,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&$i(-1);const i=En(t);let o;try{o=e(...r)}finally{En(i),n._d&&$i(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Hn(e,t){if(Ge===null)return e;const s=Vn(Ge),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,a,l=pe]=t[r];i&&(z(i)&&(i={mounted:i,updated:i}),i.deep&&bt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Ft(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(wt(),dt(l,s,8,[e.el,a,e,t]),St())}}const zo=Symbol("_vte"),Ql=e=>e.__isTeleport,$s=e=>e&&(e.disabled||e.disabled===""),yi=e=>e&&(e.defer||e.defer===""),wi=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Si=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Tr=(e,t)=>{const s=e&&e.to;return ye(s)?t?t(s):null:s},Yo={name:"Teleport",__isTeleport:!0,process(e,t,s,n,r,i,o,a,l,f){const{mc:u,pc:h,pbc:_,o:{insert:p,querySelector:S,createText:T,createComment:K}}=f,I=$s(t.props);let{shapeFlag:W,children:O,dynamicChildren:E}=t;if(e==null){const B=t.el=T(""),he=t.anchor=T("");p(B,s,n),p(he,s,n);const re=(U,C)=>{W&16&&u(O,U,C,r,i,o,a,l)},R=()=>{const U=t.target=Tr(t.props,S),C=Zo(U,t,T,p);U&&(o!=="svg"&&wi(U)?o="svg":o!=="mathml"&&Si(U)&&(o="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(U),I||(re(U,C),yn(t,!1)))};I&&(re(s,he),yn(t,!0)),yi(t.props)?(t.el.__isMounted=!1,Oe(()=>{R(),delete t.el.__isMounted},i)):R()}else{if(yi(t.props)&&e.el.__isMounted===!1){Oe(()=>{Yo.process(e,t,s,n,r,i,o,a,l,f)},i);return}t.el=e.el,t.targetStart=e.targetStart;const B=t.anchor=e.anchor,he=t.target=e.target,re=t.targetAnchor=e.targetAnchor,R=$s(e.props),U=R?s:he,C=R?B:re;if(o==="svg"||wi(he)?o="svg":(o==="mathml"||Si(he))&&(o="mathml"),E?(_(e.dynamicChildren,E,U,r,i,o,a),si(e,t,!0)):l||h(e,t,U,C,r,i,o,a,!1),I)R?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Zs(t,s,B,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Me=t.target=Tr(t.props,S);Me&&Zs(t,Me,null,f,0)}else R&&Zs(t,he,re,f,1);yn(t,I)}},remove(e,t,s,{um:n,o:{remove:r}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:f,targetAnchor:u,target:h,props:_}=e;if(h&&(r(f),r(u)),i&&r(l),o&16){const p=i||!$s(_);for(let S=0;S<a.length;S++){const T=a[S];n(T,t,s,p,!!T.dynamicChildren)}}},move:Zs,hydrate:Zl};function Zs(e,t,s,{o:{insert:n},m:r},i=2){i===0&&n(e.targetAnchor,t,s);const{el:o,anchor:a,shapeFlag:l,children:f,props:u}=e,h=i===2;if(h&&n(o,t,s),(!h||$s(u))&&l&16)for(let _=0;_<f.length;_++)r(f[_],t,s,2);h&&n(a,t,s)}function Zl(e,t,s,n,r,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:f,createText:u}},h){function _(T,K,I,W){K.anchor=h(o(T),K,a(T),s,n,r,i),K.targetStart=I,K.targetAnchor=W}const p=t.target=Tr(t.props,l),S=$s(t.props);if(p){const T=p._lpa||p.firstChild;if(t.shapeFlag&16)if(S)_(e,t,T,T&&o(T));else{t.anchor=o(e);let K=T;for(;K;){if(K&&K.nodeType===8){if(K.data==="teleport start anchor")t.targetStart=K;else if(K.data==="teleport anchor"){t.targetAnchor=K,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}K=o(K)}t.targetAnchor||Zo(p,t,u,f),h(T&&o(T),t,p,s,n,r,i)}yn(t,S)}else S&&t.shapeFlag&16&&_(e,t,e,o(e));return t.anchor&&o(t.anchor)}const Qo=Yo;function yn(e,t){const s=e.ctx;if(s&&s.ut){let n,r;for(t?(n=e.el,r=e.anchor):(n=e.targetStart,r=e.targetAnchor);n&&n!==r;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function Zo(e,t,s,n){const r=t.targetStart=s(""),i=t.targetAnchor=s("");return r[zo]=i,e&&(n(r,e),n(i,e)),i}const ec=Symbol("_leaveCb");function Yr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Yr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function os(e,t){return z(e)?Re({name:e.name},t,{setup:e}):e}function ea(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Pn=new WeakMap;function Cs(e,t,s,n,r=!1){if(G(e)){e.forEach((S,T)=>Cs(S,t&&(G(t)?t[T]:t),s,n,r));return}if(Is(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Cs(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?Vn(n.component):n.el,o=r?null:i,{i:a,r:l}=e,f=t&&t.r,u=a.refs===pe?a.refs={}:a.refs,h=a.setupState,_=oe(h),p=h===pe?wo:S=>ae(_,S);if(f!=null&&f!==l){if(xi(t),ye(f))u[f]=null,p(f)&&(h[f]=null);else if(ve(f)){f.value=null;const S=t;S.k&&(u[S.k]=null)}}if(z(l))qs(l,a,12,[o,u]);else{const S=ye(l),T=ve(l);if(S||T){const K=()=>{if(e.f){const I=S?p(l)?h[l]:u[l]:l.value;if(r)G(I)&&Dr(I,i);else if(G(I))I.includes(i)||I.push(i);else if(S)u[l]=[i],p(l)&&(h[l]=u[l]);else{const W=[i];l.value=W,e.k&&(u[e.k]=W)}}else S?(u[l]=o,p(l)&&(h[l]=o)):T&&(l.value=o,e.k&&(u[e.k]=o))};if(o){const I=()=>{K(),Pn.delete(e)};I.id=-1,Pn.set(e,I),Oe(I,s)}else xi(e),K()}}}function xi(e){const t=Pn.get(e);t&&(t.flags|=8,Pn.delete(e))}jn().requestIdleCallback;jn().cancelIdleCallback;const Is=e=>!!e.type.__asyncLoader,ta=e=>e.type.__isKeepAlive;function tc(e,t){sa(e,"a",t)}function sc(e,t){sa(e,"da",t)}function sa(e,t,s=Fe){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Wn(t,n,s),s){let r=s.parent;for(;r&&r.parent;)ta(r.parent.vnode)&&nc(n,t,s,r),r=r.parent}}function nc(e,t,s,n){const r=Wn(t,e,n,!0);na(()=>{Dr(n[t],r)},s)}function Wn(e,t,s=Fe,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{wt();const a=Ks(s),l=dt(t,s,e,o);return a(),St(),l});return n?r.unshift(i):r.push(i),i}}const xt=e=>(t,s=Fe)=>{(!Ds||e==="sp")&&Wn(e,(...n)=>t(...n),s)},rc=xt("bm"),Qr=xt("m"),ic=xt("bu"),oc=xt("u"),Zr=xt("bum"),na=xt("um"),ac=xt("sp"),lc=xt("rtg"),cc=xt("rtc");function uc(e,t=Fe){Wn("ec",e,t)}const fc=Symbol.for("v-ndc");function It(e,t,s,n){let r;const i=s,o=G(e);if(o||ye(e)){const a=o&&es(e);let l=!1,f=!1;a&&(l=!Ye(e),f=Ct(e),e=Un(e)),r=new Array(e.length);for(let u=0,h=e.length;u<h;u++)r[u]=t(l?f?Tn(ke(e[u])):ke(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(_e(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const u=a[l];r[l]=t(e[u],u,l,i)}}else r=[];return r}const kr=e=>e?va(e)?Vn(e):kr(e.parent):null,Os=Re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kr(e.parent),$root:e=>kr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ia(e),$forceUpdate:e=>e.f||(e.f=()=>{zr(e.update)}),$nextTick:e=>e.n||(e.n=lt.bind(e.proxy)),$watch:e=>Ic.bind(e)}),nr=(e,t)=>e!==pe&&!e.__isScriptSetup&&ae(e,t),dc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let f;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(nr(n,t))return o[t]=1,n[t];if(r!==pe&&ae(r,t))return o[t]=2,r[t];if((f=e.propsOptions[0])&&ae(f,t))return o[t]=3,i[t];if(s!==pe&&ae(s,t))return o[t]=4,s[t];Ar&&(o[t]=0)}}const u=Os[t];let h,_;if(u)return t==="$attrs"&&Pe(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==pe&&ae(s,t))return o[t]=4,s[t];if(_=l.config.globalProperties,ae(_,t))return _[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return nr(r,t)?(r[t]=s,!0):n!==pe&&ae(n,t)?(n[t]=s,!0):ae(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i,type:o}},a){let l,f;return!!(s[a]||e!==pe&&a[0]!=="$"&&ae(e,a)||nr(t,a)||(l=i[0])&&ae(l,a)||ae(n,a)||ae(Os,a)||ae(r.config.globalProperties,a)||(f=o.__cssModules)&&f[a])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ae(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function vi(e){return G(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ar=!0;function hc(e){const t=ia(e),s=e.proxy,n=e.ctx;Ar=!1,t.beforeCreate&&Mi(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:f,created:u,beforeMount:h,mounted:_,beforeUpdate:p,updated:S,activated:T,deactivated:K,beforeDestroy:I,beforeUnmount:W,destroyed:O,unmounted:E,render:B,renderTracked:he,renderTriggered:re,errorCaptured:R,serverPrefetch:U,expose:C,inheritAttrs:Me,components:N,directives:j,filters:V}=t;if(f&&pc(f,n,null),o)for(const fe in o){const ie=o[fe];z(ie)&&(n[fe]=ie.bind(s))}if(r){const fe=r.call(s,s);_e(fe)&&(e.data=is(fe))}if(Ar=!0,i)for(const fe in i){const ie=i[fe],P=z(ie)?ie.bind(s,s):z(ie.get)?ie.get.bind(s,s):ft,q=!z(ie)&&z(ie.set)?ie.set.bind(s):ft,X=Z({get:P,set:q});Object.defineProperty(n,fe,{enumerable:!0,configurable:!0,get:()=>X.value,set:L=>X.value=L})}if(a)for(const fe in a)ra(a[fe],n,s,fe);if(l){const fe=z(l)?l.call(s):l;Reflect.ownKeys(fe).forEach(ie=>{wc(ie,fe[ie])})}u&&Mi(u,e,"c");function te(fe,ie){G(ie)?ie.forEach(P=>fe(P.bind(s))):ie&&fe(ie.bind(s))}if(te(rc,h),te(Qr,_),te(ic,p),te(oc,S),te(tc,T),te(sc,K),te(uc,R),te(cc,he),te(lc,re),te(Zr,W),te(na,E),te(ac,U),G(C))if(C.length){const fe=e.exposed||(e.exposed={});C.forEach(ie=>{Object.defineProperty(fe,ie,{get:()=>s[ie],set:P=>s[ie]=P,enumerable:!0})})}else e.exposed||(e.exposed={});B&&e.render===ft&&(e.render=B),Me!=null&&(e.inheritAttrs=Me),N&&(e.components=N),j&&(e.directives=j),U&&ea(e)}function pc(e,t,s=ft){G(e)&&(e=Er(e));for(const n in e){const r=e[n];let i;_e(r)?"default"in r?i=wn(r.from||n,r.default,!0):i=wn(r.from||n):i=wn(r),ve(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Mi(e,t,s){dt(G(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function ra(e,t,s,n){let r=n.includes(".")?_a(s,n):()=>s[n];if(ye(e)){const i=t[e];z(i)&&He(r,i)}else if(z(e))He(r,e.bind(s));else if(_e(e))if(G(e))e.forEach(i=>ra(i,t,s,n));else{const i=z(e.handler)?e.handler.bind(s):t[e.handler];z(i)&&He(r,i,e)}}function ia(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(f=>Rn(l,f,o,!0)),Rn(l,t,o)),_e(t)&&i.set(t,l),l}function Rn(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&Rn(e,i,s,!0),r&&r.forEach(o=>Rn(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=gc[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const gc={data:Ti,props:ki,emits:ki,methods:Ts,computed:Ts,beforeCreate:Ie,created:Ie,beforeMount:Ie,mounted:Ie,beforeUpdate:Ie,updated:Ie,beforeDestroy:Ie,beforeUnmount:Ie,destroyed:Ie,unmounted:Ie,activated:Ie,deactivated:Ie,errorCaptured:Ie,serverPrefetch:Ie,components:Ts,directives:Ts,watch:_c,provide:Ti,inject:mc};function Ti(e,t){return t?e?function(){return Re(z(e)?e.call(this,this):e,z(t)?t.call(this,this):t)}:t:e}function mc(e,t){return Ts(Er(e),Er(t))}function Er(e){if(G(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ie(e,t){return e?[...new Set([].concat(e,t))]:t}function Ts(e,t){return e?Re(Object.create(null),e,t):t}function ki(e,t){return e?G(e)&&G(t)?[...new Set([...e,...t])]:Re(Object.create(null),vi(e),vi(t??{})):t}function _c(e,t){if(!e)return t;if(!t)return e;const s=Re(Object.create(null),e);for(const n in t)s[n]=Ie(e[n],t[n]);return s}function oa(){return{app:null,config:{isNativeTag:wo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bc=0;function yc(e,t){return function(n,r=null){z(n)||(n=Re({},n)),r!=null&&!_e(r)&&(r=null);const i=oa(),o=new WeakSet,a=[];let l=!1;const f=i.app={_uid:bc++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:tu,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&z(u.install)?(o.add(u),u.install(f,...h)):z(u)&&(o.add(u),u(f,...h))),f},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),f},component(u,h){return h?(i.components[u]=h,f):i.components[u]},directive(u,h){return h?(i.directives[u]=h,f):i.directives[u]},mount(u,h,_){if(!l){const p=f._ceVNode||Qe(n,r);return p.appContext=i,_===!0?_="svg":_===!1&&(_=void 0),e(p,u,_),l=!0,f._container=u,u.__vue_app__=f,Vn(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(dt(a,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(u,h){return i.provides[u]=h,f},runWithContext(u){const h=ss;ss=f;try{return u()}finally{ss=h}}};return f}}let ss=null;function wc(e,t){if(Fe){let s=Fe.provides;const n=Fe.parent&&Fe.parent.provides;n===s&&(s=Fe.provides=Object.create(n)),s[e]=t}}function wn(e,t,s=!1){const n=Gc();if(n||ss){let r=ss?ss._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&z(t)?t.call(n&&n.proxy):t}}const aa={},la=()=>Object.create(aa),ca=e=>Object.getPrototypeOf(e)===aa;function Sc(e,t,s,n=!1){const r={},i=la();e.propsDefaults=Object.create(null),ua(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:Bl(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function xc(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=oe(r),[l]=e.propsOptions;let f=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let _=u[h];if(qn(e.emitsOptions,_))continue;const p=t[_];if(l)if(ae(i,_))p!==i[_]&&(i[_]=p,f=!0);else{const S=$t(_);r[S]=Pr(l,a,S,p,e,!1)}else p!==i[_]&&(i[_]=p,f=!0)}}}else{ua(e,t,r,i)&&(f=!0);let u;for(const h in a)(!t||!ae(t,h)&&((u=Wt(h))===h||!ae(t,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(r[h]=Pr(l,a,h,void 0,e,!0)):delete r[h]);if(i!==a)for(const h in i)(!t||!ae(t,h))&&(delete i[h],f=!0)}f&&_t(e.attrs,"set","")}function ua(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Es(l))continue;const f=t[l];let u;r&&ae(r,u=$t(l))?!i||!i.includes(u)?s[u]=f:(a||(a={}))[u]=f:qn(e.emitsOptions,l)||(!(l in n)||f!==n[l])&&(n[l]=f,o=!0)}if(i){const l=oe(s),f=a||pe;for(let u=0;u<i.length;u++){const h=i[u];s[h]=Pr(r,l,h,f[h],e,!ae(f,h))}}return o}function Pr(e,t,s,n,r,i){const o=e[s];if(o!=null){const a=ae(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&z(l)){const{propsDefaults:f}=r;if(s in f)n=f[s];else{const u=Ks(r);n=f[s]=l.call(null,t),u()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Wt(s))&&(n=!0))}return n}const vc=new WeakMap;function fa(e,t,s=!1){const n=s?vc:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!z(e)){const u=h=>{l=!0;const[_,p]=fa(h,t,!0);Re(o,_),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return _e(e)&&n.set(e,Qt),Qt;if(G(i))for(let u=0;u<i.length;u++){const h=$t(i[u]);Ai(h)&&(o[h]=pe)}else if(i)for(const u in i){const h=$t(u);if(Ai(h)){const _=i[u],p=o[h]=G(_)||z(_)?{type:_}:Re({},_),S=p.type;let T=!1,K=!0;if(G(S))for(let I=0;I<S.length;++I){const W=S[I],O=z(W)&&W.name;if(O==="Boolean"){T=!0;break}else O==="String"&&(K=!1)}else T=z(S)&&S.name==="Boolean";p[0]=T,p[1]=K,(T||ae(p,"default"))&&a.push(h)}}const f=[o,a];return _e(e)&&n.set(e,f),f}function Ai(e){return e[0]!=="$"&&!Es(e)}const ei=e=>e==="_"||e==="_ctx"||e==="$stable",ti=e=>G(e)?e.map(ct):[ct(e)],Mc=(e,t,s)=>{if(t._n)return t;const n=Yl((...r)=>ti(t(...r)),s);return n._c=!1,n},da=(e,t,s)=>{const n=e._ctx;for(const r in e){if(ei(r))continue;const i=e[r];if(z(i))t[r]=Mc(r,i,n);else if(i!=null){const o=ti(i);t[r]=()=>o}}},ha=(e,t)=>{const s=ti(t);e.slots.default=()=>s},pa=(e,t,s)=>{for(const n in t)(s||!ei(n))&&(e[n]=t[n])},Tc=(e,t,s)=>{const n=e.slots=la();if(e.vnode.shapeFlag&32){const r=t._;r?(pa(n,t,s),s&&ko(n,"_",r,!0)):da(t,n)}else t&&ha(e,t)},kc=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=pe;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:pa(r,t,s):(i=!t.$stable,da(t,r)),o=t}else t&&(ha(e,t),o={default:1});if(i)for(const a in r)!ei(a)&&o[a]==null&&delete r[a]},Oe=Dc;function Ac(e){return Ec(e)}function Ec(e,t){const s=jn();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:f,setElementText:u,parentNode:h,nextSibling:_,setScopeId:p=ft,insertStaticContent:S}=e,T=(c,d,m,x=null,b=null,y=null,A=void 0,k=null,M=!!d.dynamicChildren)=>{if(c===d)return;c&&!fs(c,d)&&(x=vt(c),L(c,b,y,!0),c=null),d.patchFlag===-2&&(M=!1,d.dynamicChildren=null);const{type:v,ref:H,shapeFlag:$}=d;switch(v){case Kn:K(c,d,m,x);break;case Ot:I(c,d,m,x);break;case ir:c==null&&W(d,m,x,A);break;case Se:N(c,d,m,x,b,y,A,k,M);break;default:$&1?B(c,d,m,x,b,y,A,k,M):$&6?j(c,d,m,x,b,y,A,k,M):($&64||$&128)&&v.process(c,d,m,x,b,y,A,k,M,ls)}H!=null&&b?Cs(H,c&&c.ref,y,d||c,!d):H==null&&c&&c.ref!=null&&Cs(c.ref,null,y,c,!0)},K=(c,d,m,x)=>{if(c==null)n(d.el=a(d.children),m,x);else{const b=d.el=c.el;d.children!==c.children&&f(b,d.children)}},I=(c,d,m,x)=>{c==null?n(d.el=l(d.children||""),m,x):d.el=c.el},W=(c,d,m,x)=>{[c.el,c.anchor]=S(c.children,d,m,x,c.el,c.anchor)},O=({el:c,anchor:d},m,x)=>{let b;for(;c&&c!==d;)b=_(c),n(c,m,x),c=b;n(d,m,x)},E=({el:c,anchor:d})=>{let m;for(;c&&c!==d;)m=_(c),r(c),c=m;r(d)},B=(c,d,m,x,b,y,A,k,M)=>{d.type==="svg"?A="svg":d.type==="math"&&(A="mathml"),c==null?he(d,m,x,b,y,A,k,M):U(c,d,b,y,A,k,M)},he=(c,d,m,x,b,y,A,k)=>{let M,v;const{props:H,shapeFlag:$,transition:D,dirs:J}=c;if(M=c.el=o(c.type,y,H&&H.is,H),$&8?u(M,c.children):$&16&&R(c.children,M,null,x,b,rr(c,y),A,k),J&&Ft(c,null,x,"created"),re(M,c,c.scopeId,A,x),H){for(const ge in H)ge!=="value"&&!Es(ge)&&i(M,ge,null,H[ge],y,x);"value"in H&&i(M,"value",null,H.value,y),(v=H.onVnodeBeforeMount)&&ot(v,x,c)}J&&Ft(c,null,x,"beforeMount");const se=Pc(b,D);se&&D.beforeEnter(M),n(M,d,m),((v=H&&H.onVnodeMounted)||se||J)&&Oe(()=>{v&&ot(v,x,c),se&&D.enter(M),J&&Ft(c,null,x,"mounted")},b)},re=(c,d,m,x,b)=>{if(m&&p(c,m),x)for(let y=0;y<x.length;y++)p(c,x[y]);if(b){let y=b.subTree;if(d===y||ya(y.type)&&(y.ssContent===d||y.ssFallback===d)){const A=b.vnode;re(c,A,A.scopeId,A.slotScopeIds,b.parent)}}},R=(c,d,m,x,b,y,A,k,M=0)=>{for(let v=M;v<c.length;v++){const H=c[v]=k?Et(c[v]):ct(c[v]);T(null,H,d,m,x,b,y,A,k)}},U=(c,d,m,x,b,y,A)=>{const k=d.el=c.el;let{patchFlag:M,dynamicChildren:v,dirs:H}=d;M|=c.patchFlag&16;const $=c.props||pe,D=d.props||pe;let J;if(m&&jt(m,!1),(J=D.onVnodeBeforeUpdate)&&ot(J,m,d,c),H&&Ft(d,c,m,"beforeUpdate"),m&&jt(m,!0),($.innerHTML&&D.innerHTML==null||$.textContent&&D.textContent==null)&&u(k,""),v?C(c.dynamicChildren,v,k,m,x,rr(d,b),y):A||ie(c,d,k,null,m,x,rr(d,b),y,!1),M>0){if(M&16)Me(k,$,D,m,b);else if(M&2&&$.class!==D.class&&i(k,"class",null,D.class,b),M&4&&i(k,"style",$.style,D.style,b),M&8){const se=d.dynamicProps;for(let ge=0;ge<se.length;ge++){const ue=se[ge],je=$[ue],Be=D[ue];(Be!==je||ue==="value")&&i(k,ue,je,Be,b,m)}}M&1&&c.children!==d.children&&u(k,d.children)}else!A&&v==null&&Me(k,$,D,m,b);((J=D.onVnodeUpdated)||H)&&Oe(()=>{J&&ot(J,m,d,c),H&&Ft(d,c,m,"updated")},x)},C=(c,d,m,x,b,y,A)=>{for(let k=0;k<d.length;k++){const M=c[k],v=d[k],H=M.el&&(M.type===Se||!fs(M,v)||M.shapeFlag&198)?h(M.el):m;T(M,v,H,null,x,b,y,A,!0)}},Me=(c,d,m,x,b)=>{if(d!==m){if(d!==pe)for(const y in d)!Es(y)&&!(y in m)&&i(c,y,d[y],null,b,x);for(const y in m){if(Es(y))continue;const A=m[y],k=d[y];A!==k&&y!=="value"&&i(c,y,k,A,b,x)}"value"in m&&i(c,"value",d.value,m.value,b)}},N=(c,d,m,x,b,y,A,k,M)=>{const v=d.el=c?c.el:a(""),H=d.anchor=c?c.anchor:a("");let{patchFlag:$,dynamicChildren:D,slotScopeIds:J}=d;J&&(k=k?k.concat(J):J),c==null?(n(v,m,x),n(H,m,x),R(d.children||[],m,H,b,y,A,k,M)):$>0&&$&64&&D&&c.dynamicChildren?(C(c.dynamicChildren,D,m,b,y,A,k),(d.key!=null||b&&d===b.subTree)&&si(c,d,!0)):ie(c,d,m,H,b,y,A,k,M)},j=(c,d,m,x,b,y,A,k,M)=>{d.slotScopeIds=k,c==null?d.shapeFlag&512?b.ctx.activate(d,m,x,A,M):V(d,m,x,b,y,A,M):be(c,d,M)},V=(c,d,m,x,b,y,A)=>{const k=c.component=Xc(c,x,b);if(ta(c)&&(k.ctx.renderer=ls),zc(k,!1,A),k.asyncDep){if(b&&b.registerDep(k,te,A),!c.el){const M=k.subTree=Qe(Ot);I(null,M,d,m),c.placeholder=M.el}}else te(k,c,d,m,b,y,A)},be=(c,d,m)=>{const x=d.component=c.component;if(Bc(c,d,m))if(x.asyncDep&&!x.asyncResolved){fe(x,d,m);return}else x.next=d,x.update();else d.el=c.el,x.vnode=d},te=(c,d,m,x,b,y,A)=>{const k=()=>{if(c.isMounted){let{next:$,bu:D,u:J,parent:se,vnode:ge}=c;{const rt=ga(c);if(rt){$&&($.el=ge.el,fe(c,$,A)),rt.asyncDep.then(()=>{c.isUnmounted||k()});return}}let ue=$,je;jt(c,!1),$?($.el=ge.el,fe(c,$,A)):$=ge,D&&bn(D),(je=$.props&&$.props.onVnodeBeforeUpdate)&&ot(je,se,$,ge),jt(c,!0);const Be=Pi(c),nt=c.subTree;c.subTree=Be,T(nt,Be,h(nt.el),vt(nt),c,b,y),$.el=Be.el,ue===null&&Uc(c,Be.el),J&&Oe(J,b),(je=$.props&&$.props.onVnodeUpdated)&&Oe(()=>ot(je,se,$,ge),b)}else{let $;const{el:D,props:J}=d,{bm:se,m:ge,parent:ue,root:je,type:Be}=c,nt=Is(d);jt(c,!1),se&&bn(se),!nt&&($=J&&J.onVnodeBeforeMount)&&ot($,ue,d),jt(c,!0);{je.ce&&je.ce._def.shadowRoot!==!1&&je.ce._injectChildStyle(Be);const rt=c.subTree=Pi(c);T(null,rt,m,x,c,b,y),d.el=rt.el}if(ge&&Oe(ge,b),!nt&&($=J&&J.onVnodeMounted)){const rt=d;Oe(()=>ot($,ue,rt),b)}(d.shapeFlag&256||ue&&Is(ue.vnode)&&ue.vnode.shapeFlag&256)&&c.a&&Oe(c.a,b),c.isMounted=!0,d=m=x=null}};c.scope.on();const M=c.effect=new Ro(k);c.scope.off();const v=c.update=M.run.bind(M),H=c.job=M.runIfDirty.bind(M);H.i=c,H.id=c.uid,M.scheduler=()=>zr(H),jt(c,!0),v()},fe=(c,d,m)=>{d.component=c;const x=c.vnode.props;c.vnode=d,c.next=null,xc(c,d.props,x,m),kc(c,d.children,m),wt(),bi(c),St()},ie=(c,d,m,x,b,y,A,k,M=!1)=>{const v=c&&c.children,H=c?c.shapeFlag:0,$=d.children,{patchFlag:D,shapeFlag:J}=d;if(D>0){if(D&128){q(v,$,m,x,b,y,A,k,M);return}else if(D&256){P(v,$,m,x,b,y,A,k,M);return}}J&8?(H&16&&Ce(v,b,y),$!==v&&u(m,$)):H&16?J&16?q(v,$,m,x,b,y,A,k,M):Ce(v,b,y,!0):(H&8&&u(m,""),J&16&&R($,m,x,b,y,A,k,M))},P=(c,d,m,x,b,y,A,k,M)=>{c=c||Qt,d=d||Qt;const v=c.length,H=d.length,$=Math.min(v,H);let D;for(D=0;D<$;D++){const J=d[D]=M?Et(d[D]):ct(d[D]);T(c[D],J,m,null,b,y,A,k,M)}v>H?Ce(c,b,y,!0,!1,$):R(d,m,x,b,y,A,k,M,$)},q=(c,d,m,x,b,y,A,k,M)=>{let v=0;const H=d.length;let $=c.length-1,D=H-1;for(;v<=$&&v<=D;){const J=c[v],se=d[v]=M?Et(d[v]):ct(d[v]);if(fs(J,se))T(J,se,m,null,b,y,A,k,M);else break;v++}for(;v<=$&&v<=D;){const J=c[$],se=d[D]=M?Et(d[D]):ct(d[D]);if(fs(J,se))T(J,se,m,null,b,y,A,k,M);else break;$--,D--}if(v>$){if(v<=D){const J=D+1,se=J<H?d[J].el:x;for(;v<=D;)T(null,d[v]=M?Et(d[v]):ct(d[v]),m,se,b,y,A,k,M),v++}}else if(v>D)for(;v<=$;)L(c[v],b,y,!0),v++;else{const J=v,se=v,ge=new Map;for(v=se;v<=D;v++){const We=d[v]=M?Et(d[v]):ct(d[v]);We.key!=null&&ge.set(We.key,v)}let ue,je=0;const Be=D-se+1;let nt=!1,rt=0;const cs=new Array(Be);for(v=0;v<Be;v++)cs[v]=0;for(v=J;v<=$;v++){const We=c[v];if(je>=Be){L(We,b,y,!0);continue}let it;if(We.key!=null)it=ge.get(We.key);else for(ue=se;ue<=D;ue++)if(cs[ue-se]===0&&fs(We,d[ue])){it=ue;break}it===void 0?L(We,b,y,!0):(cs[it-se]=v+1,it>=rt?rt=it:nt=!0,T(We,d[it],m,null,b,y,A,k,M),je++)}const di=nt?Rc(cs):Qt;for(ue=di.length-1,v=Be-1;v>=0;v--){const We=se+v,it=d[We],hi=d[We+1],pi=We+1<H?hi.el||hi.placeholder:x;cs[v]===0?T(null,it,m,pi,b,y,A,k,M):nt&&(ue<0||v!==di[ue]?X(it,m,pi,2):ue--)}}},X=(c,d,m,x,b=null)=>{const{el:y,type:A,transition:k,children:M,shapeFlag:v}=c;if(v&6){X(c.component.subTree,d,m,x);return}if(v&128){c.suspense.move(d,m,x);return}if(v&64){A.move(c,d,m,ls);return}if(A===Se){n(y,d,m);for(let $=0;$<M.length;$++)X(M[$],d,m,x);n(c.anchor,d,m);return}if(A===ir){O(c,d,m);return}if(x!==2&&v&1&&k)if(x===0)k.beforeEnter(y),n(y,d,m),Oe(()=>k.enter(y),b);else{const{leave:$,delayLeave:D,afterLeave:J}=k,se=()=>{c.ctx.isUnmounted?r(y):n(y,d,m)},ge=()=>{y._isLeaving&&y[ec](!0),$(y,()=>{se(),J&&J()})};D?D(y,se,ge):ge()}else n(y,d,m)},L=(c,d,m,x=!1,b=!1)=>{const{type:y,props:A,ref:k,children:M,dynamicChildren:v,shapeFlag:H,patchFlag:$,dirs:D,cacheIndex:J}=c;if($===-2&&(b=!1),k!=null&&(wt(),Cs(k,null,m,c,!0),St()),J!=null&&(d.renderCache[J]=void 0),H&256){d.ctx.deactivate(c);return}const se=H&1&&D,ge=!Is(c);let ue;if(ge&&(ue=A&&A.onVnodeBeforeUnmount)&&ot(ue,d,c),H&6)Ee(c.component,m,x);else{if(H&128){c.suspense.unmount(m,x);return}se&&Ft(c,null,d,"beforeUnmount"),H&64?c.type.remove(c,d,m,ls,x):v&&!v.hasOnce&&(y!==Se||$>0&&$&64)?Ce(v,d,m,!1,!0):(y===Se&&$&384||!b&&H&16)&&Ce(M,d,m),x&&de(c)}(ge&&(ue=A&&A.onVnodeUnmounted)||se)&&Oe(()=>{ue&&ot(ue,d,c),se&&Ft(c,null,d,"unmounted")},m)},de=c=>{const{type:d,el:m,anchor:x,transition:b}=c;if(d===Se){xe(m,x);return}if(d===ir){E(c);return}const y=()=>{r(m),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(c.shapeFlag&1&&b&&!b.persisted){const{leave:A,delayLeave:k}=b,M=()=>A(m,y);k?k(c.el,y,M):M()}else y()},xe=(c,d)=>{let m;for(;c!==d;)m=_(c),r(c),c=m;r(d)},Ee=(c,d,m)=>{const{bum:x,scope:b,job:y,subTree:A,um:k,m:M,a:v}=c;Ei(M),Ei(v),x&&bn(x),b.stop(),y&&(y.flags|=8,L(A,c,d,m)),k&&Oe(k,d),Oe(()=>{c.isUnmounted=!0},d)},Ce=(c,d,m,x=!1,b=!1,y=0)=>{for(let A=y;A<c.length;A++)L(c[A],d,m,x,b)},vt=c=>{if(c.shapeFlag&6)return vt(c.component.subTree);if(c.shapeFlag&128)return c.suspense.next();const d=_(c.anchor||c.el),m=d&&d[zo];return m?_(m):d};let Lt=!1;const fi=(c,d,m)=>{c==null?d._vnode&&L(d._vnode,null,null,!0):T(d._vnode||null,c,d,null,null,null,m),d._vnode=c,Lt||(Lt=!0,bi(),Jo(),Lt=!1)},ls={p:T,um:L,m:X,r:de,mt:V,mc:R,pc:ie,pbc:C,n:vt,o:e};return{render:fi,hydrate:void 0,createApp:yc(fi)}}function rr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function jt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Pc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function si(e,t,s=!1){const n=e.children,r=t.children;if(G(n)&&G(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Et(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&si(o,a)),a.type===Kn&&a.patchFlag!==-1&&(a.el=o.el),a.type===Ot&&!a.el&&(a.el=o.el)}}function Rc(e){const t=e.slice(),s=[0];let n,r,i,o,a;const l=e.length;for(n=0;n<l;n++){const f=e[n];if(f!==0){if(r=s[s.length-1],e[r]<f){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<f?i=a+1:o=a;f<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function ga(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ga(t)}function Ei(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const $c=Symbol.for("v-scx"),Cc=()=>wn($c);function He(e,t,s){return ma(e,t,s)}function ma(e,t,s=pe){const{immediate:n,deep:r,flush:i,once:o}=s,a=Re({},s),l=t&&n||!t&&i!=="post";let f;if(Ds){if(i==="sync"){const p=Cc();f=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ft,p.resume=ft,p.pause=ft,p}}const u=Fe;a.call=(p,S,T)=>dt(p,u,S,T);let h=!1;i==="post"?a.scheduler=p=>{Oe(p,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(p,S)=>{S?p():zr(p)}),a.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const _=Jl(e,t,a);return Ds&&(f?f.push(_):l&&_()),_}function Ic(e,t,s){const n=this.proxy,r=ye(e)?e.includes(".")?_a(n,e):()=>n[e]:e.bind(n,n);let i;z(t)?i=t:(i=t.handler,s=t);const o=Ks(this),a=ma(r,i.bind(n),s);return o(),a}function _a(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Oc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${$t(t)}Modifiers`]||e[`${Wt(t)}Modifiers`];function Nc(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||pe;let r=s;const i=t.startsWith("update:"),o=i&&Oc(n,t.slice(7));o&&(o.trim&&(r=s.map(u=>ye(u)?u.trim():u)),o.number&&(r=s.map(yr)));let a,l=n[a=Qn(t)]||n[a=Qn($t(t))];!l&&i&&(l=n[a=Qn(Wt(t))]),l&&dt(l,e,6,r);const f=n[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,dt(f,e,6,r)}}const Lc=new WeakMap;function ba(e,t,s=!1){const n=s?Lc:t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!z(e)){const l=f=>{const u=ba(f,t,!0);u&&(a=!0,Re(o,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(_e(e)&&n.set(e,null),null):(G(i)?i.forEach(l=>o[l]=null):Re(o,i),_e(e)&&n.set(e,o),o)}function qn(e,t){return!e||!Nn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ae(e,t[0].toLowerCase()+t.slice(1))||ae(e,Wt(t))||ae(e,t))}function Pi(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:f,renderCache:u,props:h,data:_,setupState:p,ctx:S,inheritAttrs:T}=e,K=En(e);let I,W;try{if(s.shapeFlag&4){const E=r||n,B=E;I=ct(f.call(B,E,u,h,p,_,S)),W=a}else{const E=t;I=ct(E.length>1?E(h,{attrs:a,slots:o,emit:l}):E(h,null)),W=t.props?a:Fc(a)}}catch(E){Ns.length=0,Dn(E,e,1),I=Qe(Ot)}let O=I;if(W&&T!==!1){const E=Object.keys(W),{shapeFlag:B}=O;E.length&&B&7&&(i&&E.some(Ur)&&(W=jc(W,i)),O=rs(O,W,!1,!0))}return s.dirs&&(O=rs(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(s.dirs):s.dirs),s.transition&&Yr(O,s.transition),I=O,En(K),I}const Fc=e=>{let t;for(const s in e)(s==="class"||s==="style"||Nn(s))&&((t||(t={}))[s]=e[s]);return t},jc=(e,t)=>{const s={};for(const n in e)(!Ur(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Bc(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Ri(n,o,f):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const _=u[h];if(o[_]!==n[_]&&!qn(f,_))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Ri(n,o,f):!0:!!o;return!1}function Ri(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!qn(s,i))return!0}return!1}function Uc({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const ya=e=>e.__isSuspense;function Dc(e,t){t&&t.pendingBranch?G(e)?t.effects.push(...e):t.effects.push(e):zl(e)}const Se=Symbol.for("v-fgt"),Kn=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),ir=Symbol.for("v-stc"),Ns=[];let Ve=null;function Q(e=!1){Ns.push(Ve=e?null:[])}function Hc(){Ns.pop(),Ve=Ns[Ns.length-1]||null}let Bs=1;function $i(e,t=!1){Bs+=e,e<0&&Ve&&t&&(Ve.hasOnce=!0)}function wa(e){return e.dynamicChildren=Bs>0?Ve||Qt:null,Hc(),Bs>0&&Ve&&Ve.push(e),e}function ee(e,t,s,n,r,i){return wa(w(e,t,s,n,r,i,!0))}function Us(e,t,s,n,r){return wa(Qe(e,t,s,n,r,!0))}function Sa(e){return e?e.__v_isVNode===!0:!1}function fs(e,t){return e.type===t.type&&e.key===t.key}const xa=({key:e})=>e??null,Sn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?ye(e)||ve(e)||z(e)?{i:Ge,r:e,k:t,f:!!s}:e:null);function w(e,t=null,s=null,n=0,r=null,i=e===Se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xa(t),ref:t&&Sn(t),scopeId:Go,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ge};return a?(ri(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=ye(s)?8:16),Bs>0&&!o&&Ve&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ve.push(l),l}const Qe=Wc;function Wc(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===fc)&&(e=Ot),Sa(e)){const a=rs(e,t,!0);return s&&ri(a,s),Bs>0&&!i&&Ve&&(a.shapeFlag&6?Ve[Ve.indexOf(e)]=a:Ve.push(a)),a.patchFlag=-2,a}if(eu(e)&&(e=e.__vccOpts),t){t=qc(t);let{class:a,style:l}=t;a&&!ye(a)&&(t.class=ze(a)),_e(l)&&(Gr(l)&&!G(l)&&(l=Re({},l)),t.style=Bn(l))}const o=ye(e)?1:ya(e)?128:Ql(e)?64:_e(e)?4:z(e)?2:0;return w(e,t,s,n,r,o,i,!0)}function qc(e){return e?Gr(e)||ca(e)?Re({},e):e:null}function rs(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,f=t?Kc(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&xa(f),ref:t&&t.ref?s&&i?G(i)?i.concat(Sn(t)):[i,Sn(t)]:Sn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rs(e.ssContent),ssFallback:e.ssFallback&&rs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Yr(u,l.clone(u)),u}function ni(e=" ",t=0){return Qe(Kn,null,e,t)}function Rt(e="",t=!1){return t?(Q(),Us(Ot,null,e)):Qe(Ot,null,e)}function ct(e){return e==null||typeof e=="boolean"?Qe(Ot):G(e)?Qe(Se,null,e.slice()):Sa(e)?Et(e):Qe(Kn,null,String(e))}function Et(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rs(e)}function ri(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(G(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),ri(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!ca(t)?t._ctx=Ge:r===3&&Ge&&(Ge.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else z(t)?(t={default:t,_ctx:Ge},s=32):(t=String(t),n&64?(s=16,t=[ni(t)]):s=8);e.children=t,e.shapeFlag|=s}function Kc(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=ze([t.class,n.class]));else if(r==="style")t.style=Bn([t.style,n.style]);else if(Nn(r)){const i=t[r],o=n[r];o&&i!==o&&!(G(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function ot(e,t,s,n=null){dt(e,t,7,[s,n])}const Vc=oa();let Jc=0;function Xc(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Vc,i={uid:Jc++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fa(n,r),emitsOptions:ba(n,r),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:n.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Nc.bind(null,i),e.ce&&e.ce(i),i}let Fe=null;const Gc=()=>Fe||Ge;let $n,Rr;{const e=jn(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};$n=t("__VUE_INSTANCE_SETTERS__",s=>Fe=s),Rr=t("__VUE_SSR_SETTERS__",s=>Ds=s)}const Ks=e=>{const t=Fe;return $n(e),e.scope.on(),()=>{e.scope.off(),$n(t)}},Ci=()=>{Fe&&Fe.scope.off(),$n(null)};function va(e){return e.vnode.shapeFlag&4}let Ds=!1;function zc(e,t=!1,s=!1){t&&Rr(t);const{props:n,children:r}=e.vnode,i=va(e);Sc(e,n,i,t),Tc(e,r,s||t);const o=i?Yc(e,t):void 0;return t&&Rr(!1),o}function Yc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,dc);const{setup:n}=s;if(n){wt();const r=e.setupContext=n.length>1?Zc(e):null,i=Ks(e),o=qs(n,e,0,[e.props,r]),a=xo(o);if(St(),i(),(a||e.sp)&&!Is(e)&&ea(e),a){if(o.then(Ci,Ci),t)return o.then(l=>{Ii(e,l)}).catch(l=>{Dn(l,e,0)});e.asyncDep=o}else Ii(e,o)}else Ma(e)}function Ii(e,t,s){z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_e(t)&&(e.setupState=qo(t)),Ma(e)}function Ma(e,t,s){const n=e.type;e.render||(e.render=n.render||ft);{const r=Ks(e);wt();try{hc(e)}finally{St(),r()}}}const Qc={get(e,t){return Pe(e,"get",""),e[t]}};function Zc(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Qc),slots:e.slots,emit:e.emit,expose:t}}function Vn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(qo(Ul(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Os)return Os[s](e)},has(t,s){return s in t||s in Os}})):e.proxy}function eu(e){return z(e)&&"__vccOpts"in e}const Z=(e,t)=>Kl(e,t,Ds),tu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $r;const Oi=typeof window<"u"&&window.trustedTypes;if(Oi)try{$r=Oi.createPolicy("vue",{createHTML:e=>e})}catch{}const Ta=$r?e=>$r.createHTML(e):e=>e,su="http://www.w3.org/2000/svg",nu="http://www.w3.org/1998/Math/MathML",mt=typeof document<"u"?document:null,Ni=mt&&mt.createElement("template"),ru={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?mt.createElementNS(su,e):t==="mathml"?mt.createElementNS(nu,e):s?mt.createElement(e,{is:s}):mt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>mt.createTextNode(e),createComment:e=>mt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Ni.innerHTML=Ta(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Ni.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},iu=Symbol("_vtc");function ou(e,t,s){const n=e[iu];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Li=Symbol("_vod"),au=Symbol("_vsh"),lu=Symbol(""),cu=/(?:^|;)\s*display\s*:/;function uu(e,t,s){const n=e.style,r=ye(s);let i=!1;if(s&&!r){if(t)if(ye(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&xn(n,a,"")}else for(const o in t)s[o]==null&&xn(n,o,"");for(const o in s)o==="display"&&(i=!0),xn(n,o,s[o])}else if(r){if(t!==s){const o=n[lu];o&&(s+=";"+o),n.cssText=s,i=cu.test(s)}}else t&&e.removeAttribute("style");Li in e&&(e[Li]=i?n.display:"",e[au]&&(n.display="none"))}const Fi=/\s*!important$/;function xn(e,t,s){if(G(s))s.forEach(n=>xn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=fu(e,t);Fi.test(s)?e.setProperty(Wt(n),s.replace(Fi,""),"important"):e[n]=s}}const ji=["Webkit","Moz","ms"],or={};function fu(e,t){const s=or[t];if(s)return s;let n=$t(t);if(n!=="filter"&&n in e)return or[t]=n;n=To(n);for(let r=0;r<ji.length;r++){const i=ji[r]+n;if(i in e)return or[t]=i}return t}const Bi="http://www.w3.org/1999/xlink";function Ui(e,t,s,n,r,i=bl(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Bi,t.slice(6,t.length)):e.setAttributeNS(Bi,t,s):s==null||i&&!Ao(s)?e.removeAttribute(t):e.setAttribute(t,i?"":Nt(s)?String(s):s)}function Di(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Ta(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Ao(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(r||t)}function Gt(e,t,s,n){e.addEventListener(t,s,n)}function du(e,t,s,n){e.removeEventListener(t,s,n)}const Hi=Symbol("_vei");function hu(e,t,s,n,r=null){const i=e[Hi]||(e[Hi]={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=pu(t);if(n){const f=i[t]=_u(n,r);Gt(e,a,f,l)}else o&&(du(e,a,o,l),i[t]=void 0)}}const Wi=/(?:Once|Passive|Capture)$/;function pu(e){let t;if(Wi.test(e)){t={};let n;for(;n=e.match(Wi);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Wt(e.slice(2)),t]}let ar=0;const gu=Promise.resolve(),mu=()=>ar||(gu.then(()=>ar=0),ar=Date.now());function _u(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;dt(bu(n,s.value),t,5,[n])};return s.value=e,s.attached=mu(),s}function bu(e,t){if(G(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const qi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,yu=(e,t,s,n,r,i)=>{const o=r==="svg";t==="class"?ou(e,n,o):t==="style"?uu(e,s,n):Nn(t)?Ur(t)||hu(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wu(e,t,n,o))?(Di(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ui(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ye(n))?Di(e,$t(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Ui(e,t,n,o))};function wu(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&qi(t)&&z(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return qi(t)&&ye(s)?!1:t in e}const Ki=e=>{const t=e.props["onUpdate:modelValue"]||!1;return G(t)?s=>bn(t,s):t};function Su(e){e.target.composing=!0}function Vi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const lr=Symbol("_assign"),Jn={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[lr]=Ki(r);const i=n||r.props&&r.props.type==="number";Gt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=yr(a)),e[lr](a)}),s&&Gt(e,"change",()=>{e.value=e.value.trim()}),t||(Gt(e,"compositionstart",Su),Gt(e,"compositionend",Vi),Gt(e,"change",Vi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(e[lr]=Ki(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?yr(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===l)||(e.value=l))}},xu=["ctrl","shift","alt","meta"],vu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>xu.some(s=>e[`${s}Key`]&&!t.includes(s))},ka=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((r,...i)=>{for(let o=0;o<t.length;o++){const a=vu[t[o]];if(a&&a(r,t))return}return e(r,...i)}))},Mu=Re({patchProp:yu},ru);let Ji;function Tu(){return Ji||(Ji=Ac(Mu))}const ku=((...e)=>{const t=Tu().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=Eu(n);if(!r)return;const i=t._component;!z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,Au(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t});function Au(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Eu(e){return ye(e)?document.querySelector(e):e}function Pu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ru(){return{act:null,sceneByAct:{},scrollByScene:{}}}function Xi(e,t){return e==null||t==null?null:`${e}-${t}`}function $u(){const e=Te([]),t=Te(!0),s=Te(null),n=Te(""),r=Te(""),i=Te(!0),o=is({playId:null,act:null,scene:null}),a=Te({}),l=Z(()=>"/shakespeareExplorer/data/plays.json"),f=Te(null),u=Z({get:()=>n.value,set:P=>{n.value=P}}),h=Z({get:()=>r.value,set:P=>{r.value=P}}),_=Z(()=>{const P=n.value.trim().toLowerCase();return P?e.value.filter(q=>[q.name,q.genre].some(X=>X.toLowerCase().includes(P))):e.value}),p=Z(()=>o.playId?e.value.find(P=>P.id===o.playId)??null:null),S=Z(()=>p.value?.acts??[]),T=Z(()=>!p.value||o.act==null?null:p.value.acts.find(P=>P.number===o.act)??null),K=Z(()=>T.value?.scenes??[]),I=Z(()=>!T.value||o.scene==null?null:T.value.scenes.find(P=>P.number===o.scene)??null),W=Z(()=>{const P=r.value.trim();if(!P)return X=>X;const q=new RegExp(Pu(P),"ig");return X=>X.replace(q,L=>`<mark>${L}</mark>`)}),O=Z(()=>{if(!I.value)return[];const P=r.value.trim().toLowerCase();return P?I.value.lines.filter(q=>q.text.toLowerCase().includes(P)||q.character.toLowerCase().includes(P)):I.value.lines});function E(P,q){const X=a.value[P]??Ru(),L=q(X);return L===X||(a.value={...a.value,[P]:L}),L}function B(P,q,X){if(q==null){E(P,L=>({...L,sceneByAct:{...L.sceneByAct}}));return}E(P,L=>({...L,sceneByAct:{...L.sceneByAct,[q]:X??null}}))}function he(P,q,X,L){const de=Xi(q,X);de&&E(P,xe=>({...xe,scrollByScene:{...xe.scrollByScene,[de]:L}}))}function re(P,q){o.act=q,P&&E(P,X=>({...X,act:q}))}function R(P,q){if(o.scene=q,!P)return;const X=o.act;X!=null&&B(P,X,q)}function U(P,q){if(q==null)return null;const X=P.acts.find(Ee=>Ee.number===q);if(!X)return null;const de=a.value[P.id]?.sceneByAct?.[q]??null,xe=X.scenes.map(Ee=>Ee.number);return de!=null&&xe.includes(de)?de:X.scenes[0]?.number??null}function C(){i.value=!i.value}function Me(P,q={}){const{rememberCurrent:X=!0}=q,L=o.playId;if(X&&L&&L!==P&&(te(L),B(L,o.act,o.scene)),L===P)return;o.playId=P;const de=e.value.find(Lt=>Lt.id===P)??null;if(!de){re(null,null),R(null,null);return}const Ee=a.value[de.id]?.act,Ce=Ee!=null&&de.acts.some(Lt=>Lt.number===Ee)?Ee:de.acts[0]?.number??null;re(de.id,Ce);const vt=U(de,o.act);R(de.id,vt)}function N(P,q={}){const{rememberScroll:X=!0}=q,L=p.value;if(!L)return;const xe=L.acts.some(Ce=>Ce.number===P)?P:L.acts[0]?.number??null;if(o.act===xe)return;X&&te(),re(L.id,xe);const Ee=U(L,o.act);R(L.id,Ee)}function j(P,q={}){const{rememberScroll:X=!0}=q,L=p.value;if(!L)return;const de=L.acts.find(Ce=>Ce.number===o.act);if(!de)return;const Ee=de.scenes.some(Ce=>Ce.number===P)?P:de.scenes[0]?.number??null;o.scene!==Ee&&(X&&te(),R(L.id,Ee))}function V(P){f.value=P}function be(P){f.value===P&&(f.value=null)}function te(P){const q=f.value;if(!q)return;const X=P??o.playId,L=o.act,de=o.scene;if(!X||L==null||de==null)return;const xe=q();xe!=null&&he(X,L,de,xe)}function fe(P,q,X){const L=Xi(q,X);return L?a.value[P]?.scrollByScene?.[L]??0:0}async function ie(){t.value=!0,s.value=null;try{const P=await fetch(l.value);if(!P.ok)throw new Error(`Failed to load plays (${P.status})`);const q=await P.json();if(e.value=q.plays,!q.plays.length){o.playId=null,re(null,null),R(null,null);return}const X=o.playId;if(!X||!q.plays.some(L=>L.id===X)){const L=q.plays[0];L&&Me(L.id,{rememberCurrent:!1})}else{const L=q.plays.find(de=>de.id===X)??null;if(L){const xe=a.value[L.id]?.act,Ee=xe!=null&&L.acts.some(vt=>vt.number===xe)?xe:L.acts[0]?.number??null;re(L.id,Ee);const Ce=U(L,o.act);R(L.id,Ce)}}}catch(P){s.value=P instanceof Error?P.message:"Unknown error"}finally{t.value=!1}}return{plays:e,loading:t,error:s,filteredPlays:_,currentPlay:p,acts:S,currentAct:T,scenes:K,currentScene:I,lines:O,highlight:W,sidebarOpen:i,playSearchModel:u,lineSearchModel:h,selectedPlayId:Z(()=>o.playId),selectedActNumber:Z(()=>o.act),selectedSceneNumber:Z(()=>o.scene),init:ie,selectPlay:Me,selectAct:N,selectScene:j,toggleSidebar:C,registerScrollProvider:V,unregisterScrollProvider:be,persistCurrentScroll:te,getStoredScroll:fe}}let cr=null;function Vs(){return cr||(cr=$u()),cr}const Cu={key:0,class:"sidebar"},Iu={class:"sidebar-inner"},Ou={class:"sidebar-header"},Nu=["aria-expanded"],Lu={class:"play-list","aria-label":"Plays"},Fu={key:0,class:"status"},ju={key:1,class:"status"},Bu=["onClick"],Uu={class:"play-title"},Du={class:"play-meta"},Hu=["aria-expanded"],Wu=os({__name:"PlaySidebar",setup(e){const t=Vs(),s=t.sidebarOpen,n=t.loading,r=t.filteredPlays,i=t.playSearchModel,o=t.selectedPlayId;function a(){t.toggleSidebar()}function l(f){t.selectPlay(f)}return(f,u)=>(Q(),ee("div",{class:ze(["sidebar-shell",{collapsed:!le(s)}])},[le(s)?(Q(),ee("aside",Cu,[w("div",Iu,[w("div",Ou,[u[2]||(u[2]=w("label",{class:"field-label",for:"play-search"},"Search plays",-1)),w("button",{type:"button",class:"sidebar-toggle open",onClick:a,"aria-expanded":le(s),"aria-label":"Hide play list","aria-controls":"play-search",title:"Hide play list"},[...u[1]||(u[1]=[w("span",{"aria-hidden":"true"},"",-1)])],8,Nu)]),Hn(w("input",{id:"play-search","onUpdate:modelValue":u[0]||(u[0]=h=>ve(i)?i.value=h:null),type:"search",placeholder:"Filter by title or genre"},null,512),[[Jn,le(i)]]),w("nav",Lu,[le(n)?(Q(),ee("p",Fu,"Loading")):le(r).length?Rt("",!0):(Q(),ee("p",ju,"No plays match.")),(Q(!0),ee(Se,null,It(le(r),h=>(Q(),ee("button",{key:h.id,type:"button",class:ze(["play-item",{active:h.id===le(o)}]),onClick:_=>l(h.id)},[w("span",Uu,ce(h.name),1),w("span",Du,ce(h.genre),1)],10,Bu))),128))])])])):(Q(),ee("button",{key:1,type:"button",class:"sidebar-toggle collapsed",onClick:a,"aria-expanded":le(s),"aria-label":"Show all plays","aria-controls":"play-search",title:"Show all plays"},[...u[3]||(u[3]=[w("span",{"aria-hidden":"true"},"",-1)])],8,Hu))],2))}}),qu=["Connect this to the scene","What is the subtext?","How might an actor deliver it?"];function Aa(e){const{playId:t,actNumber:s,sceneNumber:n,lineGlobalIndex:r}=e;return`${t}:${s}:${n}:${r}`}function Gi(){return`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`}function F(e,t,s,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,s),s}function g(e,t,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(e):n?n.value:t.get(e)}let Ea=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return Ea=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),s=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^s()&15>>+n/4).toString(16))};function Hs(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Cr=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class Y extends Error{}class $e extends Y{constructor(t,s,n,r){super(`${$e.makeMessage(t,s,n)}`),this.status=t,this.headers=r,this.requestID=r?.get("request-id"),this.error=s}static makeMessage(t,s,n){const r=s?.message?typeof s.message=="string"?s.message:JSON.stringify(s.message):s?JSON.stringify(s):n;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,s,n,r){if(!t||!r)return new Xn({message:n,cause:Cr(s)});const i=s;return t===400?new Ra(t,i,n,r):t===401?new $a(t,i,n,r):t===403?new Ca(t,i,n,r):t===404?new Ia(t,i,n,r):t===409?new Oa(t,i,n,r):t===422?new Na(t,i,n,r):t===429?new La(t,i,n,r):t>=500?new Fa(t,i,n,r):new $e(t,i,n,r)}}class et extends $e{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Xn extends $e{constructor({message:t,cause:s}){super(void 0,void 0,t||"Connection error.",void 0),s&&(this.cause=s)}}class Pa extends Xn{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Ra extends $e{}class $a extends $e{}class Ca extends $e{}class Ia extends $e{}class Oa extends $e{}class Na extends $e{}class La extends $e{}class Fa extends $e{}const Ku=/^[a-z][a-z0-9+.-]*:/i,Vu=e=>Ku.test(e);let Ir=e=>(Ir=Array.isArray,Ir(e)),zi=Ir;function Or(e){return typeof e!="object"?{}:e??{}}function Ju(e){if(!e)return!0;for(const t in e)return!1;return!0}function Xu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Gu=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Y(`${e} must be an integer`);if(t<0)throw new Y(`${e} must be a positive integer`);return t},ja=e=>{try{return JSON.parse(e)}catch{return}},zu=e=>new Promise(t=>setTimeout(t,e)),zt="0.67.0",Yu=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Qu(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Zu=()=>{const e=Qu();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zt,"X-Stainless-OS":Qi(Deno.build.os),"X-Stainless-Arch":Yi(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zt,"X-Stainless-OS":Qi(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Yi(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=ef();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ef(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:s}of e){const n=s.exec(navigator.userAgent);if(n){const r=n[1]||0,i=n[2]||0,o=n[3]||0;return{browser:t,version:`${r}.${i}.${o}`}}}return null}const Yi=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Qi=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Zi;const tf=()=>Zi??(Zi=Zu());function sf(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ba(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Ua(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Ba({start(){},async pull(s){const{done:n,value:r}=await t.next();n?s.close():s.enqueue(r)},async cancel(){await t.return?.()}})}function ii(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const s=await t.read();return s?.done&&t.releaseLock(),s}catch(s){throw t.releaseLock(),s}},async return(){const s=t.cancel();return t.releaseLock(),await s,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function nf(e){if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await e[Symbol.asyncIterator]().return?.();return}const t=e.getReader(),s=t.cancel();t.releaseLock(),await s}const rf=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});function of(e){let t=0;for(const r of e)t+=r.length;const s=new Uint8Array(t);let n=0;for(const r of e)s.set(r,n),n+=r.length;return s}let eo;function oi(e){let t;return(eo??(t=new globalThis.TextEncoder,eo=t.encode.bind(t)))(e)}let to;function so(e){let t;return(to??(t=new globalThis.TextDecoder,to=t.decode.bind(t)))(e)}var qe,Ke;class Js{constructor(){qe.set(this,void 0),Ke.set(this,void 0),F(this,qe,new Uint8Array),F(this,Ke,null)}decode(t){if(t==null)return[];const s=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?oi(t):t;F(this,qe,of([g(this,qe,"f"),s]));const n=[];let r;for(;(r=af(g(this,qe,"f"),g(this,Ke,"f")))!=null;){if(r.carriage&&g(this,Ke,"f")==null){F(this,Ke,r.index);continue}if(g(this,Ke,"f")!=null&&(r.index!==g(this,Ke,"f")+1||r.carriage)){n.push(so(g(this,qe,"f").subarray(0,g(this,Ke,"f")-1))),F(this,qe,g(this,qe,"f").subarray(g(this,Ke,"f"))),F(this,Ke,null);continue}const i=g(this,Ke,"f")!==null?r.preceding-1:r.preceding,o=so(g(this,qe,"f").subarray(0,i));n.push(o),F(this,qe,g(this,qe,"f").subarray(r.index)),F(this,Ke,null)}return n}flush(){return g(this,qe,"f").length?this.decode(`
`):[]}}qe=new WeakMap,Ke=new WeakMap;Js.NEWLINE_CHARS=new Set([`
`,"\r"]);Js.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function af(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function lf(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}const Cn={off:0,error:200,warn:300,info:400,debug:500},no=(e,t,s)=>{if(e){if(Xu(Cn,e))return e;Ne(s).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Cn))}`)}};function ks(){}function en(e,t,s){return!t||Cn[e]>Cn[s]?ks:t[e].bind(t)}const cf={error:ks,warn:ks,info:ks,debug:ks};let ro=new WeakMap;function Ne(e){const t=e.logger,s=e.logLevel??"off";if(!t)return cf;const n=ro.get(t);if(n&&n[0]===s)return n[1];const r={error:en("error",t,s),warn:en("warn",t,s),info:en("info",t,s),debug:en("debug",t,s)};return ro.set(t,[s,r]),r}const Dt=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,s])=>[t,t.toLowerCase()==="x-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":s]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var ds;class ut{constructor(t,s,n){this.iterator=t,ds.set(this,void 0),this.controller=s,F(this,ds,n)}static fromSSEResponse(t,s,n){let r=!1;const i=n?Ne(n):console;async function*o(){if(r)throw new Y("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const l of uf(t,s)){if(l.event==="completion")try{yield JSON.parse(l.data)}catch(f){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),f}if(l.event==="message_start"||l.event==="message_delta"||l.event==="message_stop"||l.event==="content_block_start"||l.event==="content_block_delta"||l.event==="content_block_stop")try{yield JSON.parse(l.data)}catch(f){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),f}if(l.event!=="ping"&&l.event==="error")throw new $e(void 0,ja(l.data)??l.data,void 0,t.headers)}a=!0}catch(l){if(Hs(l))return;throw l}finally{a||s.abort()}}return new ut(o,s,n)}static fromReadableStream(t,s,n){let r=!1;async function*i(){const a=new Js,l=ii(t);for await(const f of l)for(const u of a.decode(f))yield u;for(const f of a.flush())yield f}async function*o(){if(r)throw new Y("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const l of i())a||l&&(yield JSON.parse(l));a=!0}catch(l){if(Hs(l))return;throw l}finally{a||s.abort()}}return new ut(o,s,n)}[(ds=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],s=[],n=this.iterator(),r=i=>({next:()=>{if(i.length===0){const o=n.next();t.push(o),s.push(o)}return i.shift()}});return[new ut(()=>r(t),this.controller,g(this,ds,"f")),new ut(()=>r(s),this.controller,g(this,ds,"f"))]}toReadableStream(){const t=this;let s;return Ba({async start(){s=t[Symbol.asyncIterator]()},async pull(n){try{const{value:r,done:i}=await s.next();if(i)return n.close();const o=oi(JSON.stringify(r)+`
`);n.enqueue(o)}catch(r){n.error(r)}},async cancel(){await s.return?.()}})}}async function*uf(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Y("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Y("Attempted to iterate over a response with no body");const s=new df,n=new Js,r=ii(e.body);for await(const i of ff(r))for(const o of n.decode(i)){const a=s.decode(o);a&&(yield a)}for(const i of n.flush()){const o=s.decode(i);o&&(yield o)}}async function*ff(e){let t=new Uint8Array;for await(const s of e){if(s==null)continue;const n=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?oi(s):s;let r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),t=r;let i;for(;(i=lf(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class df{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[s,n,r]=hf(t,":");return r.startsWith(" ")&&(r=r.substring(1)),s==="event"?this.event=r:s==="data"&&this.data.push(r),null}}function hf(e,t){const s=e.indexOf(t);return s!==-1?[e.substring(0,s),t,e.substring(s+t.length)]:[e,"",""]}async function Da(e,t){const{response:s,requestLogID:n,retryOfRequestLogID:r,startTime:i}=t,o=await(async()=>{if(t.options.stream)return Ne(e).debug("response",s.status,s.url,s.headers,s.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(s,t.controller):ut.fromSSEResponse(s,t.controller);if(s.status===204)return null;if(t.options.__binaryResponse)return s;const l=s.headers.get("content-type")?.split(";")[0]?.trim();if(l?.includes("application/json")||l?.endsWith("+json")){const h=await s.json();return Ha(h,s)}return await s.text()})();return Ne(e).debug(`[${n}] response parsed`,Dt({retryOfRequestLogID:r,url:s.url,status:s.status,body:o,durationMs:Date.now()-i})),o}function Ha(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}var As;class Gn extends Promise{constructor(t,s,n=Da){super(r=>{r(null)}),this.responsePromise=s,this.parseResponse=n,As.set(this,void 0),F(this,As,t)}_thenUnwrap(t){return new Gn(g(this,As,"f"),this.responsePromise,async(s,n)=>Ha(t(await this.parseResponse(s,n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,s]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:s,request_id:s.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(g(this,As,"f"),t))),this.parsedPromise}then(t,s){return this.parse().then(t,s)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}As=new WeakMap;var tn;class Wa{constructor(t,s,n,r){tn.set(this,void 0),F(this,tn,t),this.options=r,this.response=s,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new Y("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await g(this,tn,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(tn=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const s of t.getPaginatedItems())yield s}}class pf extends Gn{constructor(t,s,n){super(t,s,async(r,i)=>new n(r,i.response,await Da(r,i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const s of t)yield s}}class Xs extends Wa{constructor(t,s,n,r){super(t,s,n,r),this.data=n.data||[],this.has_more=n.has_more||!1,this.first_id=n.first_id||null,this.last_id=n.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){const s=this.first_id;return s?{...this.options,query:{...Or(this.options.query),before_id:s}}:null}const t=this.last_id;return t?{...this.options,query:{...Or(this.options.query),after_id:t}}:null}}class qa extends Wa{constructor(t,s,n,r){super(t,s,n,r),this.data=n.data||[],this.has_more=n.has_more||!1,this.next_page=n.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.next_page;return t?{...this.options,query:{...Or(this.options.query),page:t}}:null}}const Ka=()=>{if(typeof File>"u"){const{process:e}=globalThis,t=typeof e?.versions?.node=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ns(e,t,s){return Ka(),new File(e,t??"unknown_file",s)}function vn(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Va=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",ai=async(e,t)=>({...e,body:await mf(e.body,t)}),io=new WeakMap;function gf(e){const t=typeof e=="function"?e:e.fetch,s=io.get(t);if(s)return s;const n=(async()=>{try{const r="Response"in t?t.Response:(await t("data:,")).constructor,i=new FormData;return i.toString()!==await new r(i).text()}catch{return!0}})();return io.set(t,n),n}const mf=async(e,t)=>{if(!await gf(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const s=new FormData;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Nr(s,n,r))),s},_f=e=>e instanceof Blob&&"name"in e,Nr=async(e,t,s)=>{if(s!==void 0){if(s==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")e.append(t,String(s));else if(s instanceof Response){let n={};const r=s.headers.get("Content-Type");r&&(n={type:r}),e.append(t,ns([await s.blob()],vn(s),n))}else if(Va(s))e.append(t,ns([await new Response(Ua(s)).blob()],vn(s)));else if(_f(s))e.append(t,ns([s],vn(s),{type:s.type}));else if(Array.isArray(s))await Promise.all(s.map(n=>Nr(e,t+"[]",n)));else if(typeof s=="object")await Promise.all(Object.entries(s).map(([n,r])=>Nr(e,`${t}[${n}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${s} instead`)}},Ja=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",bf=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Ja(e),yf=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function wf(e,t,s){if(Ka(),e=await e,t||(t=vn(e)),bf(e))return e instanceof File&&t==null&&s==null?e:ns([await e.arrayBuffer()],t??e.name,{type:e.type,lastModified:e.lastModified,...s});if(yf(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),ns(await Lr(r),t,s)}const n=await Lr(e);if(!s?.type){const r=n.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(s={...s,type:r})}return ns(n,t,s)}async function Lr(e){let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Ja(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(Va(e))for await(const s of e)t.push(...await Lr(s));else{const s=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${s?`; constructor: ${s}`:""}${Sf(e)}`)}return t}function Sf(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(s=>`"${s}"`).join(", ")}]`}class st{constructor(t){this._client=t}}const Xa=Symbol.for("brand.privateNullableHeaders");function*xf(e){if(!e)return;if(Xa in e){const{values:n,nulls:r}=e;yield*n.entries();for(const i of r)yield[i,null];return}let t=!1,s;e instanceof Headers?s=e.entries():zi(e)?s=e:(t=!0,s=Object.entries(e??{}));for(let n of s){const r=n[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=zi(n[1])?n[1]:[n[1]];let o=!1;for(const a of i)a!==void 0&&(t&&!o&&(o=!0,yield[r,null]),yield[r,a])}}const ne=e=>{const t=new Headers,s=new Set;for(const n of e){const r=new Set;for(const[i,o]of xf(n)){const a=i.toLowerCase();r.has(a)||(t.delete(i),r.add(a)),o===null?(t.delete(i),s.add(a)):(t.append(i,o),s.delete(a))}}return{[Xa]:!0,values:t,nulls:s}};function Ga(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const oo=Object.freeze(Object.create(null)),vf=(e=Ga)=>function(s,...n){if(s.length===1)return s[0];let r=!1;const i=[],o=s.reduce((u,h,_)=>{/[?#]/.test(h)&&(r=!0);const p=n[_];let S=(r?encodeURIComponent:e)(""+p);return _!==n.length&&(p==null||typeof p=="object"&&p.toString===Object.getPrototypeOf(Object.getPrototypeOf(p.hasOwnProperty??oo)??oo)?.toString)&&(S=p+"",i.push({start:u.length+h.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(p).slice(8,-1)} is not a valid path parameter`})),u+h+(_===n.length?"":S)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=l.exec(a))!==null;)i.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(i.sort((u,h)=>u.start-h.start),i.length>0){let u=0;const h=i.reduce((_,p)=>{const S=" ".repeat(p.start-u),T="^".repeat(p.length);return u=p.start+p.length,_+S+T},"");throw new Y(`Path parameters result in path with invalid segments:
${i.map(_=>_.error).join(`
`)}
${o}
${h}`)}return o},Ae=vf(Ga);class za extends st{list(t={},s){const{betas:n,...r}=t??{};return this._client.getAPIList("/v1/files",Xs,{query:r,...s,headers:ne([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},s?.headers])})}delete(t,s={},n){const{betas:r}=s??{};return this._client.delete(Ae`/v1/files/${t}`,{...n,headers:ne([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n?.headers])})}download(t,s={},n){const{betas:r}=s??{};return this._client.get(Ae`/v1/files/${t}/content`,{...n,headers:ne([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}retrieveMetadata(t,s={},n){const{betas:r}=s??{};return this._client.get(Ae`/v1/files/${t}`,{...n,headers:ne([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n?.headers])})}upload(t,s){const{betas:n,...r}=t;return this._client.post("/v1/files",ai({body:r,...s,headers:ne([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},s?.headers])},this._client))}}let Ya=class extends st{retrieve(t,s={},n){const{betas:r}=s??{};return this._client.get(Ae`/v1/models/${t}?beta=true`,{...n,headers:ne([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},n?.headers])})}list(t={},s){const{betas:n,...r}=t??{};return this._client.getAPIList("/v1/models?beta=true",Xs,{query:r,...s,headers:ne([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},s?.headers])})}};class zn{constructor(t,s){this.iterator=t,this.controller=s}async*decoder(){const t=new Js;for await(const s of this.iterator)for(const n of t.decode(s))yield JSON.parse(n);for(const s of t.flush())yield JSON.parse(s)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(t,s){if(!t.body)throw s.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Y("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Y("Attempted to iterate over a response with no body");return new zn(ii(t.body),s)}}let Qa=class extends st{create(t,s){const{betas:n,...r}=t;return this._client.post("/v1/messages/batches?beta=true",{body:r,...s,headers:ne([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},s?.headers])})}retrieve(t,s={},n){const{betas:r}=s??{};return this._client.get(Ae`/v1/messages/batches/${t}?beta=true`,{...n,headers:ne([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n?.headers])})}list(t={},s){const{betas:n,...r}=t??{};return this._client.getAPIList("/v1/messages/batches?beta=true",Xs,{query:r,...s,headers:ne([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},s?.headers])})}delete(t,s={},n){const{betas:r}=s??{};return this._client.delete(Ae`/v1/messages/batches/${t}?beta=true`,{...n,headers:ne([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n?.headers])})}cancel(t,s={},n){const{betas:r}=s??{};return this._client.post(Ae`/v1/messages/batches/${t}/cancel?beta=true`,{...n,headers:ne([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n?.headers])})}async results(t,s={},n){const r=await this.retrieve(t);if(!r.results_url)throw new Y(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);const{betas:i}=s??{};return this._client.get(r.results_url,{...n,headers:ne([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},n?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((o,a)=>zn.fromResponse(a.response,a.controller))}};const Mf=e=>{let t=0,s=[];for(;t<e.length;){let n=e[t];if(n==="\\"){t++;continue}if(n==="{"){s.push({type:"brace",value:"{"}),t++;continue}if(n==="}"){s.push({type:"brace",value:"}"}),t++;continue}if(n==="["){s.push({type:"paren",value:"["}),t++;continue}if(n==="]"){s.push({type:"paren",value:"]"}),t++;continue}if(n===":"){s.push({type:"separator",value:":"}),t++;continue}if(n===","){s.push({type:"delimiter",value:","}),t++;continue}if(n==='"'){let a="",l=!1;for(n=e[++t];n!=='"';){if(t===e.length){l=!0;break}if(n==="\\"){if(t++,t===e.length){l=!0;break}a+=n+e[t],n=e[++t]}else a+=n,n=e[++t]}n=e[++t],l||s.push({type:"string",value:a});continue}if(n&&/\s/.test(n)){t++;continue}let i=/[0-9]/;if(n&&i.test(n)||n==="-"||n==="."){let a="";for(n==="-"&&(a+=n,n=e[++t]);n&&i.test(n)||n===".";)a+=n,n=e[++t];s.push({type:"number",value:a});continue}let o=/[a-z]/i;if(n&&o.test(n)){let a="";for(;n&&o.test(n)&&t!==e.length;)a+=n,n=e[++t];if(a=="true"||a=="false"||a==="null")s.push({type:"name",value:a});else{t++;continue}continue}t++}return s},Yt=e=>{if(e.length===0)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),Yt(e);case"number":let s=t.value[t.value.length-1];if(s==="."||s==="-")return e=e.slice(0,e.length-1),Yt(e);case"string":let n=e[e.length-2];if(n?.type==="delimiter")return e=e.slice(0,e.length-1),Yt(e);if(n?.type==="brace"&&n.value==="{")return e=e.slice(0,e.length-1),Yt(e);break;case"delimiter":return e=e.slice(0,e.length-1),Yt(e)}return e},Tf=e=>{let t=[];return e.map(s=>{s.type==="brace"&&(s.value==="{"?t.push("}"):t.splice(t.lastIndexOf("}"),1)),s.type==="paren"&&(s.value==="["?t.push("]"):t.splice(t.lastIndexOf("]"),1))}),t.length>0&&t.reverse().map(s=>{s==="}"?e.push({type:"brace",value:"}"}):s==="]"&&e.push({type:"paren",value:"]"})}),e},kf=e=>{let t="";return e.map(s=>{switch(s.type){case"string":t+='"'+s.value+'"';break;default:t+=s.value;break}}),t},Za=e=>JSON.parse(kf(Tf(Yt(Mf(e)))));var Je,Mt,hs,sn,ps,gs,nn,ms,pt,_s,rn,on,Kt,an,ln,ur,ao,cn,fr,dr,hr,lo;const co="__json_buf";function uo(e){return e.type==="tool_use"||e.type==="server_tool_use"||e.type==="mcp_tool_use"}class In{constructor(){Je.add(this),this.messages=[],this.receivedMessages=[],Mt.set(this,void 0),this.controller=new AbortController,hs.set(this,void 0),sn.set(this,()=>{}),ps.set(this,()=>{}),gs.set(this,void 0),nn.set(this,()=>{}),ms.set(this,()=>{}),pt.set(this,{}),_s.set(this,!1),rn.set(this,!1),on.set(this,!1),Kt.set(this,!1),an.set(this,void 0),ln.set(this,void 0),cn.set(this,t=>{if(F(this,rn,!0),Hs(t)&&(t=new et),t instanceof et)return F(this,on,!0),this._emit("abort",t);if(t instanceof Y)return this._emit("error",t);if(t instanceof Error){const s=new Y(t.message);return s.cause=t,this._emit("error",s)}return this._emit("error",new Y(String(t)))}),F(this,hs,new Promise((t,s)=>{F(this,sn,t,"f"),F(this,ps,s,"f")})),F(this,gs,new Promise((t,s)=>{F(this,nn,t,"f"),F(this,ms,s,"f")})),g(this,hs,"f").catch(()=>{}),g(this,gs,"f").catch(()=>{})}get response(){return g(this,an,"f")}get request_id(){return g(this,ln,"f")}async withResponse(){const t=await g(this,hs,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const s=new In;return s._run(()=>s._fromReadableStream(t)),s}static createMessage(t,s,n){const r=new In;for(const i of s.messages)r._addMessageParam(i);return r._run(()=>r._createMessage(t,{...s,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},g(this,cn,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,s=!0){this.receivedMessages.push(t),s&&this._emit("message",t)}async _createMessage(t,s,n){const r=n?.signal;let i;r&&(r.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),r.addEventListener("abort",i));try{g(this,Je,"m",fr).call(this);const{response:o,data:a}=await t.create({...s,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(o);for await(const l of a)g(this,Je,"m",dr).call(this,l);if(a.controller.signal?.aborted)throw new et;g(this,Je,"m",hr).call(this)}finally{r&&i&&r.removeEventListener("abort",i)}}_connected(t){this.ended||(F(this,an,t),F(this,ln,t?.headers.get("request-id")),g(this,sn,"f").call(this,t),this._emit("connect"))}get ended(){return g(this,_s,"f")}get errored(){return g(this,rn,"f")}get aborted(){return g(this,on,"f")}abort(){this.controller.abort()}on(t,s){return(g(this,pt,"f")[t]||(g(this,pt,"f")[t]=[])).push({listener:s}),this}off(t,s){const n=g(this,pt,"f")[t];if(!n)return this;const r=n.findIndex(i=>i.listener===s);return r>=0&&n.splice(r,1),this}once(t,s){return(g(this,pt,"f")[t]||(g(this,pt,"f")[t]=[])).push({listener:s,once:!0}),this}emitted(t){return new Promise((s,n)=>{F(this,Kt,!0),t!=="error"&&this.once("error",n),this.once(t,s)})}async done(){F(this,Kt,!0),await g(this,gs,"f")}get currentMessage(){return g(this,Mt,"f")}async finalMessage(){return await this.done(),g(this,Je,"m",ur).call(this)}async finalText(){return await this.done(),g(this,Je,"m",ao).call(this)}_emit(t,...s){if(g(this,_s,"f"))return;t==="end"&&(F(this,_s,!0),g(this,nn,"f").call(this));const n=g(this,pt,"f")[t];if(n&&(g(this,pt,"f")[t]=n.filter(r=>!r.once),n.forEach(({listener:r})=>r(...s))),t==="abort"){const r=s[0];!g(this,Kt,"f")&&!n?.length&&Promise.reject(r),g(this,ps,"f").call(this,r),g(this,ms,"f").call(this,r),this._emit("end");return}if(t==="error"){const r=s[0];!g(this,Kt,"f")&&!n?.length&&Promise.reject(r),g(this,ps,"f").call(this,r),g(this,ms,"f").call(this,r),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",g(this,Je,"m",ur).call(this))}async _fromReadableStream(t,s){const n=s?.signal;let r;n&&(n.aborted&&this.controller.abort(),r=this.controller.abort.bind(this.controller),n.addEventListener("abort",r));try{g(this,Je,"m",fr).call(this),this._connected(null);const i=ut.fromReadableStream(t,this.controller);for await(const o of i)g(this,Je,"m",dr).call(this,o);if(i.controller.signal?.aborted)throw new et;g(this,Je,"m",hr).call(this)}finally{n&&r&&n.removeEventListener("abort",r)}}[(Mt=new WeakMap,hs=new WeakMap,sn=new WeakMap,ps=new WeakMap,gs=new WeakMap,nn=new WeakMap,ms=new WeakMap,pt=new WeakMap,_s=new WeakMap,rn=new WeakMap,on=new WeakMap,Kt=new WeakMap,an=new WeakMap,ln=new WeakMap,cn=new WeakMap,Je=new WeakSet,ur=function(){if(this.receivedMessages.length===0)throw new Y("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},ao=function(){if(this.receivedMessages.length===0)throw new Y("stream ended without producing a Message with role=assistant");const s=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(s.length===0)throw new Y("stream ended without producing a content block with type=text");return s.join(" ")},fr=function(){this.ended||F(this,Mt,void 0)},dr=function(s){if(this.ended)return;const n=g(this,Je,"m",lo).call(this,s);switch(this._emit("streamEvent",s,n),s.type){case"content_block_delta":{const r=n.content.at(-1);switch(s.delta.type){case"text_delta":{r.type==="text"&&this._emit("text",s.delta.text,r.text||"");break}case"citations_delta":{r.type==="text"&&this._emit("citation",s.delta.citation,r.citations??[]);break}case"input_json_delta":{uo(r)&&r.input&&this._emit("inputJson",s.delta.partial_json,r.input);break}case"thinking_delta":{r.type==="thinking"&&this._emit("thinking",s.delta.thinking,r.thinking);break}case"signature_delta":{r.type==="thinking"&&this._emit("signature",r.signature);break}default:s.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(n,!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{F(this,Mt,n);break}}},hr=function(){if(this.ended)throw new Y("stream has ended, this shouldn't happen");const s=g(this,Mt,"f");if(!s)throw new Y("request ended without sending any chunks");return F(this,Mt,void 0),s},lo=function(s){let n=g(this,Mt,"f");if(s.type==="message_start"){if(n)throw new Y(`Unexpected event order, got ${s.type} before receiving "message_stop"`);return s.message}if(!n)throw new Y(`Unexpected event order, got ${s.type} before "message_start"`);switch(s.type){case"message_stop":return n;case"message_delta":return n.container=s.delta.container,n.stop_reason=s.delta.stop_reason,n.stop_sequence=s.delta.stop_sequence,n.usage.output_tokens=s.usage.output_tokens,n.context_management=s.context_management,s.usage.input_tokens!=null&&(n.usage.input_tokens=s.usage.input_tokens),s.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=s.usage.cache_creation_input_tokens),s.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=s.usage.cache_read_input_tokens),s.usage.server_tool_use!=null&&(n.usage.server_tool_use=s.usage.server_tool_use),n;case"content_block_start":return n.content.push(s.content_block),n;case"content_block_delta":{const r=n.content.at(s.index);switch(s.delta.type){case"text_delta":{r?.type==="text"&&(n.content[s.index]={...r,text:(r.text||"")+s.delta.text});break}case"citations_delta":{r?.type==="text"&&(n.content[s.index]={...r,citations:[...r.citations??[],s.delta.citation]});break}case"input_json_delta":{if(r&&uo(r)){let i=r[co]||"";i+=s.delta.partial_json;const o={...r};if(Object.defineProperty(o,co,{value:i,enumerable:!1,writable:!0}),i)try{o.input=Za(i)}catch(a){const l=new Y(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${a}. JSON: ${i}`);g(this,cn,"f").call(this,l)}n.content[s.index]=o}break}case"thinking_delta":{r?.type==="thinking"&&(n.content[s.index]={...r,thinking:r.thinking+s.delta.thinking});break}case"signature_delta":{r?.type==="thinking"&&(n.content[s.index]={...r,signature:s.delta.signature});break}default:s.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){const t=[],s=[];let n=!1;return this.on("streamEvent",r=>{const i=s.shift();i?i.resolve(r):t.push(r)}),this.on("end",()=>{n=!0;for(const r of s)r.resolve(void 0);s.length=0}),this.on("abort",r=>{n=!0;for(const i of s)i.reject(r);s.length=0}),this.on("error",r=>{n=!0;for(const i of s)i.reject(r);s.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>s.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ut(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const el={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};var un,Vt,Bt,Ue,bs,Ze,yt,Tt,ys,Fr;function fo(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}class tl{constructor(t,s,n){un.add(this),this.client=t,Vt.set(this,!1),Bt.set(this,!1),Ue.set(this,void 0),bs.set(this,void 0),Ze.set(this,void 0),yt.set(this,void 0),Tt.set(this,void 0),ys.set(this,0),F(this,Ue,{params:{...s,messages:structuredClone(s.messages)}}),F(this,bs,{...n,headers:ne([{"x-stainless-helper":"BetaToolRunner"},n?.headers])}),F(this,Tt,fo())}async*[(Vt=new WeakMap,Bt=new WeakMap,Ue=new WeakMap,bs=new WeakMap,Ze=new WeakMap,yt=new WeakMap,Tt=new WeakMap,ys=new WeakMap,un=new WeakSet,Symbol.asyncIterator)](){var t;if(g(this,Vt,"f"))throw new Y("Cannot iterate over a consumed stream");F(this,Vt,!0),F(this,Bt,!0),F(this,yt,void 0);try{for(;;){let s;try{if(g(this,Ue,"f").params.max_iterations&&g(this,ys,"f")>=g(this,Ue,"f").params.max_iterations)break;F(this,Bt,!1,"f"),F(this,Ze,void 0,"f"),F(this,yt,void 0,"f"),F(this,ys,(t=g(this,ys,"f"),t++,t),"f");const{max_iterations:n,...r}=g(this,Ue,"f").params;if(r.stream?(s=this.client.beta.messages.stream({...r},g(this,bs,"f")),F(this,Ze,s.finalMessage(),"f"),g(this,Ze,"f").catch(()=>{}),yield s):(F(this,Ze,this.client.beta.messages.create({...r,stream:!1},g(this,bs,"f")),"f"),yield g(this,Ze,"f")),!g(this,Bt,"f")){const{role:o,content:a}=await g(this,Ze,"f");g(this,Ue,"f").params.messages.push({role:o,content:a})}const i=await g(this,un,"m",Fr).call(this,g(this,Ue,"f").params.messages.at(-1));if(i&&g(this,Ue,"f").params.messages.push(i),!i&&!g(this,Bt,"f"))break}finally{s&&s.abort()}}if(!g(this,Ze,"f"))throw new Y("ToolRunner concluded without a message from the server");g(this,Tt,"f").resolve(await g(this,Ze,"f"))}catch(s){throw F(this,Vt,!1),g(this,Tt,"f").promise.catch(()=>{}),g(this,Tt,"f").reject(s),F(this,Tt,fo()),s}}setMessagesParams(t){typeof t=="function"?g(this,Ue,"f").params=t(g(this,Ue,"f").params):g(this,Ue,"f").params=t,F(this,Bt,!0),F(this,yt,void 0)}async generateToolResponse(){const t=await g(this,Ze,"f")??this.params.messages.at(-1);return t?g(this,un,"m",Fr).call(this,t):null}done(){return g(this,Tt,"f").promise}async runUntilDone(){if(!g(this,Vt,"f"))for await(const t of this);return this.done()}get params(){return g(this,Ue,"f").params}pushMessages(...t){this.setMessagesParams(s=>({...s,messages:[...s.messages,...t]}))}then(t,s){return this.runUntilDone().then(t,s)}}Fr=async function(t){return g(this,yt,"f")!==void 0?g(this,yt,"f"):(F(this,yt,Af(g(this,Ue,"f").params,t)),g(this,yt,"f"))};async function Af(e,t=e.messages.at(-1)){if(!t||t.role!=="assistant"||!t.content||typeof t.content=="string")return null;const s=t.content.filter(r=>r.type==="tool_use");return s.length===0?null:{role:"user",content:await Promise.all(s.map(async r=>{const i=e.tools.find(o=>o.name===r.name);if(!i||!("run"in i))return{type:"tool_result",tool_use_id:r.id,content:`Error: Tool '${r.name}' not found`,is_error:!0};try{let o=r.input;"parse"in i&&i.parse&&(o=i.parse(o));const a=await i.run(o);return{type:"tool_result",tool_use_id:r.id,content:a}}catch(o){return{type:"tool_result",tool_use_id:r.id,content:`Error: ${o instanceof Error?o.message:String(o)}`,is_error:!0}}}))}}const ho={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};let Yn=class extends st{constructor(){super(...arguments),this.batches=new Qa(this._client)}create(t,s){const{betas:n,...r}=t;r.model in ho&&console.warn(`The model '${r.model}' is deprecated and will reach end-of-life on ${ho[r.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let i=this._client._options.timeout;if(!r.stream&&i==null){const o=el[r.model]??void 0;i=this._client.calculateNonstreamingTimeout(r.max_tokens,o)}return this._client.post("/v1/messages?beta=true",{body:r,timeout:i??6e5,...s,headers:ne([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},s?.headers]),stream:t.stream??!1})}stream(t,s){return In.createMessage(this,t,s)}countTokens(t,s){const{betas:n,...r}=t;return this._client.post("/v1/messages/count_tokens?beta=true",{body:r,...s,headers:ne([{"anthropic-beta":[...n??[],"token-counting-2024-11-01"].toString()},s?.headers])})}toolRunner(t,s){return new tl(this._client,t,s)}};Yn.Batches=Qa;Yn.BetaToolRunner=tl;class sl extends st{create(t,s={},n){const{betas:r,...i}=s??{};return this._client.post(Ae`/v1/skills/${t}/versions?beta=true`,ai({body:i,...n,headers:ne([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n?.headers])},this._client))}retrieve(t,s,n){const{skill_id:r,betas:i}=s;return this._client.get(Ae`/v1/skills/${r}/versions/${t}?beta=true`,{...n,headers:ne([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}list(t,s={},n){const{betas:r,...i}=s??{};return this._client.getAPIList(Ae`/v1/skills/${t}/versions?beta=true`,qa,{query:i,...n,headers:ne([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n?.headers])})}delete(t,s,n){const{skill_id:r,betas:i}=s;return this._client.delete(Ae`/v1/skills/${r}/versions/${t}?beta=true`,{...n,headers:ne([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}}class li extends st{constructor(){super(...arguments),this.versions=new sl(this._client)}create(t={},s){const{betas:n,...r}=t??{};return this._client.post("/v1/skills?beta=true",ai({body:r,...s,headers:ne([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},s?.headers])},this._client))}retrieve(t,s={},n){const{betas:r}=s??{};return this._client.get(Ae`/v1/skills/${t}?beta=true`,{...n,headers:ne([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n?.headers])})}list(t={},s){const{betas:n,...r}=t??{};return this._client.getAPIList("/v1/skills?beta=true",qa,{query:r,...s,headers:ne([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},s?.headers])})}delete(t,s={},n){const{betas:r}=s??{};return this._client.delete(Ae`/v1/skills/${t}?beta=true`,{...n,headers:ne([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n?.headers])})}}li.Versions=sl;class as extends st{constructor(){super(...arguments),this.models=new Ya(this._client),this.messages=new Yn(this._client),this.files=new za(this._client),this.skills=new li(this._client)}}as.Models=Ya;as.Messages=Yn;as.Files=za;as.Skills=li;class nl extends st{create(t,s){const{betas:n,...r}=t;return this._client.post("/v1/complete",{body:r,timeout:this._client._options.timeout??6e5,...s,headers:ne([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},s?.headers]),stream:t.stream??!1})}}var Xe,kt,ws,fn,Ss,xs,dn,vs,gt,Ms,hn,pn,Jt,gn,mn,pr,po,gr,mr,_r,br,go;const mo="__json_buf";function _o(e){return e.type==="tool_use"||e.type==="server_tool_use"}class On{constructor(){Xe.add(this),this.messages=[],this.receivedMessages=[],kt.set(this,void 0),this.controller=new AbortController,ws.set(this,void 0),fn.set(this,()=>{}),Ss.set(this,()=>{}),xs.set(this,void 0),dn.set(this,()=>{}),vs.set(this,()=>{}),gt.set(this,{}),Ms.set(this,!1),hn.set(this,!1),pn.set(this,!1),Jt.set(this,!1),gn.set(this,void 0),mn.set(this,void 0),gr.set(this,t=>{if(F(this,hn,!0),Hs(t)&&(t=new et),t instanceof et)return F(this,pn,!0),this._emit("abort",t);if(t instanceof Y)return this._emit("error",t);if(t instanceof Error){const s=new Y(t.message);return s.cause=t,this._emit("error",s)}return this._emit("error",new Y(String(t)))}),F(this,ws,new Promise((t,s)=>{F(this,fn,t,"f"),F(this,Ss,s,"f")})),F(this,xs,new Promise((t,s)=>{F(this,dn,t,"f"),F(this,vs,s,"f")})),g(this,ws,"f").catch(()=>{}),g(this,xs,"f").catch(()=>{})}get response(){return g(this,gn,"f")}get request_id(){return g(this,mn,"f")}async withResponse(){const t=await g(this,ws,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const s=new On;return s._run(()=>s._fromReadableStream(t)),s}static createMessage(t,s,n){const r=new On;for(const i of s.messages)r._addMessageParam(i);return r._run(()=>r._createMessage(t,{...s,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},g(this,gr,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,s=!0){this.receivedMessages.push(t),s&&this._emit("message",t)}async _createMessage(t,s,n){const r=n?.signal;let i;r&&(r.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),r.addEventListener("abort",i));try{g(this,Xe,"m",mr).call(this);const{response:o,data:a}=await t.create({...s,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(o);for await(const l of a)g(this,Xe,"m",_r).call(this,l);if(a.controller.signal?.aborted)throw new et;g(this,Xe,"m",br).call(this)}finally{r&&i&&r.removeEventListener("abort",i)}}_connected(t){this.ended||(F(this,gn,t),F(this,mn,t?.headers.get("request-id")),g(this,fn,"f").call(this,t),this._emit("connect"))}get ended(){return g(this,Ms,"f")}get errored(){return g(this,hn,"f")}get aborted(){return g(this,pn,"f")}abort(){this.controller.abort()}on(t,s){return(g(this,gt,"f")[t]||(g(this,gt,"f")[t]=[])).push({listener:s}),this}off(t,s){const n=g(this,gt,"f")[t];if(!n)return this;const r=n.findIndex(i=>i.listener===s);return r>=0&&n.splice(r,1),this}once(t,s){return(g(this,gt,"f")[t]||(g(this,gt,"f")[t]=[])).push({listener:s,once:!0}),this}emitted(t){return new Promise((s,n)=>{F(this,Jt,!0),t!=="error"&&this.once("error",n),this.once(t,s)})}async done(){F(this,Jt,!0),await g(this,xs,"f")}get currentMessage(){return g(this,kt,"f")}async finalMessage(){return await this.done(),g(this,Xe,"m",pr).call(this)}async finalText(){return await this.done(),g(this,Xe,"m",po).call(this)}_emit(t,...s){if(g(this,Ms,"f"))return;t==="end"&&(F(this,Ms,!0),g(this,dn,"f").call(this));const n=g(this,gt,"f")[t];if(n&&(g(this,gt,"f")[t]=n.filter(r=>!r.once),n.forEach(({listener:r})=>r(...s))),t==="abort"){const r=s[0];!g(this,Jt,"f")&&!n?.length&&Promise.reject(r),g(this,Ss,"f").call(this,r),g(this,vs,"f").call(this,r),this._emit("end");return}if(t==="error"){const r=s[0];!g(this,Jt,"f")&&!n?.length&&Promise.reject(r),g(this,Ss,"f").call(this,r),g(this,vs,"f").call(this,r),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",g(this,Xe,"m",pr).call(this))}async _fromReadableStream(t,s){const n=s?.signal;let r;n&&(n.aborted&&this.controller.abort(),r=this.controller.abort.bind(this.controller),n.addEventListener("abort",r));try{g(this,Xe,"m",mr).call(this),this._connected(null);const i=ut.fromReadableStream(t,this.controller);for await(const o of i)g(this,Xe,"m",_r).call(this,o);if(i.controller.signal?.aborted)throw new et;g(this,Xe,"m",br).call(this)}finally{n&&r&&n.removeEventListener("abort",r)}}[(kt=new WeakMap,ws=new WeakMap,fn=new WeakMap,Ss=new WeakMap,xs=new WeakMap,dn=new WeakMap,vs=new WeakMap,gt=new WeakMap,Ms=new WeakMap,hn=new WeakMap,pn=new WeakMap,Jt=new WeakMap,gn=new WeakMap,mn=new WeakMap,gr=new WeakMap,Xe=new WeakSet,pr=function(){if(this.receivedMessages.length===0)throw new Y("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},po=function(){if(this.receivedMessages.length===0)throw new Y("stream ended without producing a Message with role=assistant");const s=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(s.length===0)throw new Y("stream ended without producing a content block with type=text");return s.join(" ")},mr=function(){this.ended||F(this,kt,void 0)},_r=function(s){if(this.ended)return;const n=g(this,Xe,"m",go).call(this,s);switch(this._emit("streamEvent",s,n),s.type){case"content_block_delta":{const r=n.content.at(-1);switch(s.delta.type){case"text_delta":{r.type==="text"&&this._emit("text",s.delta.text,r.text||"");break}case"citations_delta":{r.type==="text"&&this._emit("citation",s.delta.citation,r.citations??[]);break}case"input_json_delta":{_o(r)&&r.input&&this._emit("inputJson",s.delta.partial_json,r.input);break}case"thinking_delta":{r.type==="thinking"&&this._emit("thinking",s.delta.thinking,r.thinking);break}case"signature_delta":{r.type==="thinking"&&this._emit("signature",r.signature);break}default:s.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(n,!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{F(this,kt,n);break}}},br=function(){if(this.ended)throw new Y("stream has ended, this shouldn't happen");const s=g(this,kt,"f");if(!s)throw new Y("request ended without sending any chunks");return F(this,kt,void 0),s},go=function(s){let n=g(this,kt,"f");if(s.type==="message_start"){if(n)throw new Y(`Unexpected event order, got ${s.type} before receiving "message_stop"`);return s.message}if(!n)throw new Y(`Unexpected event order, got ${s.type} before "message_start"`);switch(s.type){case"message_stop":return n;case"message_delta":return n.stop_reason=s.delta.stop_reason,n.stop_sequence=s.delta.stop_sequence,n.usage.output_tokens=s.usage.output_tokens,s.usage.input_tokens!=null&&(n.usage.input_tokens=s.usage.input_tokens),s.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=s.usage.cache_creation_input_tokens),s.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=s.usage.cache_read_input_tokens),s.usage.server_tool_use!=null&&(n.usage.server_tool_use=s.usage.server_tool_use),n;case"content_block_start":return n.content.push({...s.content_block}),n;case"content_block_delta":{const r=n.content.at(s.index);switch(s.delta.type){case"text_delta":{r?.type==="text"&&(n.content[s.index]={...r,text:(r.text||"")+s.delta.text});break}case"citations_delta":{r?.type==="text"&&(n.content[s.index]={...r,citations:[...r.citations??[],s.delta.citation]});break}case"input_json_delta":{if(r&&_o(r)){let i=r[mo]||"";i+=s.delta.partial_json;const o={...r};Object.defineProperty(o,mo,{value:i,enumerable:!1,writable:!0}),i&&(o.input=Za(i)),n.content[s.index]=o}break}case"thinking_delta":{r?.type==="thinking"&&(n.content[s.index]={...r,thinking:r.thinking+s.delta.thinking});break}case"signature_delta":{r?.type==="thinking"&&(n.content[s.index]={...r,signature:s.delta.signature});break}default:s.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){const t=[],s=[];let n=!1;return this.on("streamEvent",r=>{const i=s.shift();i?i.resolve(r):t.push(r)}),this.on("end",()=>{n=!0;for(const r of s)r.resolve(void 0);s.length=0}),this.on("abort",r=>{n=!0;for(const i of s)i.reject(r);s.length=0}),this.on("error",r=>{n=!0;for(const i of s)i.reject(r);s.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>s.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ut(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class rl extends st{create(t,s){return this._client.post("/v1/messages/batches",{body:t,...s})}retrieve(t,s){return this._client.get(Ae`/v1/messages/batches/${t}`,s)}list(t={},s){return this._client.getAPIList("/v1/messages/batches",Xs,{query:t,...s})}delete(t,s){return this._client.delete(Ae`/v1/messages/batches/${t}`,s)}cancel(t,s){return this._client.post(Ae`/v1/messages/batches/${t}/cancel`,s)}async results(t,s){const n=await this.retrieve(t);if(!n.results_url)throw new Y(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);return this._client.get(n.results_url,{...s,headers:ne([{Accept:"application/binary"},s?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((r,i)=>zn.fromResponse(i.response,i.controller))}}class ci extends st{constructor(){super(...arguments),this.batches=new rl(this._client)}create(t,s){t.model in bo&&console.warn(`The model '${t.model}' is deprecated and will reach end-of-life on ${bo[t.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let n=this._client._options.timeout;if(!t.stream&&n==null){const r=el[t.model]??void 0;n=this._client.calculateNonstreamingTimeout(t.max_tokens,r)}return this._client.post("/v1/messages",{body:t,timeout:n??6e5,...s,stream:t.stream??!1})}stream(t,s){return On.createMessage(this,t,s)}countTokens(t,s){return this._client.post("/v1/messages/count_tokens",{body:t,...s})}}const bo={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};ci.Batches=rl;class il extends st{retrieve(t,s={},n){const{betas:r}=s??{};return this._client.get(Ae`/v1/models/${t}`,{...n,headers:ne([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},n?.headers])})}list(t={},s){const{betas:n,...r}=t??{};return this._client.getAPIList("/v1/models",Xs,{query:r,...s,headers:ne([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},s?.headers])})}}var Ef={};const _n=e=>{if(typeof globalThis.process<"u")return Ef?.[e]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(e)?.trim()};var jr,ui,Mn,ol;const Pf="\\n\\nHuman:",Rf="\\n\\nAssistant:";class we{constructor({baseURL:t=_n("ANTHROPIC_BASE_URL"),apiKey:s=_n("ANTHROPIC_API_KEY")??null,authToken:n=_n("ANTHROPIC_AUTH_TOKEN")??null,...r}={}){jr.add(this),Mn.set(this,void 0);const i={apiKey:s,authToken:n,...r,baseURL:t||"https://api.anthropic.com"};if(!i.dangerouslyAllowBrowser&&Yu())throw new Y(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=i.baseURL,this.timeout=i.timeout??ui.DEFAULT_TIMEOUT,this.logger=i.logger??console;const o="warn";this.logLevel=o,this.logLevel=no(i.logLevel,"ClientOptions.logLevel",this)??no(_n("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??o,this.fetchOptions=i.fetchOptions,this.maxRetries=i.maxRetries??2,this.fetch=i.fetch??sf(),F(this,Mn,rf),this._options=i,this.apiKey=s,this.authToken=n}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:s}){if(!(this.apiKey&&t.get("x-api-key"))&&!s.has("x-api-key")&&!(this.authToken&&t.get("authorization"))&&!s.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(t){return ne([await this.apiKeyAuth(t),await this.bearerAuth(t)])}async apiKeyAuth(t){if(this.apiKey!=null)return ne([{"X-Api-Key":this.apiKey}])}async bearerAuth(t){if(this.authToken!=null)return ne([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(t){return Object.entries(t).filter(([s,n])=>typeof n<"u").map(([s,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(s)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(s)}=`;throw new Y(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${zt}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ea()}`}makeStatusError(t,s,n,r){return $e.generate(t,s,n,r)}buildURL(t,s,n){const r=!g(this,jr,"m",ol).call(this)&&n||this.baseURL,i=Vu(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return Ju(o)||(s={...o,...s}),typeof s=="object"&&s&&!Array.isArray(s)&&(i.search=this.stringifyQuery(s)),i.toString()}_calculateNonstreamingTimeout(t){if(3600*t/128e3>600)throw new Y("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(t){}async prepareRequest(t,{url:s,options:n}){}get(t,s){return this.methodRequest("get",t,s)}post(t,s){return this.methodRequest("post",t,s)}patch(t,s){return this.methodRequest("patch",t,s)}put(t,s){return this.methodRequest("put",t,s)}delete(t,s){return this.methodRequest("delete",t,s)}methodRequest(t,s,n){return this.request(Promise.resolve(n).then(r=>({method:t,path:s,...r})))}request(t,s=null){return new Gn(this,this.makeRequest(t,s,void 0))}async makeRequest(t,s,n){const r=await t,i=r.maxRetries??this.maxRetries;s==null&&(s=i),await this.prepareOptions(r);const{req:o,url:a,timeout:l}=await this.buildRequest(r,{retryCount:i-s});await this.prepareRequest(o,{url:a,options:r});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=n===void 0?"":`, retryOf: ${n}`,h=Date.now();if(Ne(this).debug(`[${f}] sending request`,Dt({retryOfRequestLogID:n,method:r.method,url:a,options:r,headers:o.headers})),r.signal?.aborted)throw new et;const _=new AbortController,p=await this.fetchWithTimeout(a,o,l,_).catch(Cr),S=Date.now();if(p instanceof globalThis.Error){const I=`retrying, ${s} attempts remaining`;if(r.signal?.aborted)throw new et;const W=Hs(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(s)return Ne(this).info(`[${f}] connection ${W?"timed out":"failed"} - ${I}`),Ne(this).debug(`[${f}] connection ${W?"timed out":"failed"} (${I})`,Dt({retryOfRequestLogID:n,url:a,durationMs:S-h,message:p.message})),this.retryRequest(r,s,n??f);throw Ne(this).info(`[${f}] connection ${W?"timed out":"failed"} - error; no more retries left`),Ne(this).debug(`[${f}] connection ${W?"timed out":"failed"} (error; no more retries left)`,Dt({retryOfRequestLogID:n,url:a,durationMs:S-h,message:p.message})),W?new Pa:new Xn({cause:p})}const T=[...p.headers.entries()].filter(([I])=>I==="request-id").map(([I,W])=>", "+I+": "+JSON.stringify(W)).join(""),K=`[${f}${u}${T}] ${o.method} ${a} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${S-h}ms`;if(!p.ok){const I=await this.shouldRetry(p);if(s&&I){const re=`retrying, ${s} attempts remaining`;return await nf(p.body),Ne(this).info(`${K} - ${re}`),Ne(this).debug(`[${f}] response error (${re})`,Dt({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,durationMs:S-h})),this.retryRequest(r,s,n??f,p.headers)}const W=I?"error; no more retries left":"error; not retryable";Ne(this).info(`${K} - ${W}`);const O=await p.text().catch(re=>Cr(re).message),E=ja(O),B=E?void 0:O;throw Ne(this).debug(`[${f}] response error (${W})`,Dt({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,message:B,durationMs:Date.now()-h})),this.makeStatusError(p.status,E,B,p.headers)}return Ne(this).info(K),Ne(this).debug(`[${f}] response start`,Dt({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,durationMs:S-h})),{response:p,options:r,controller:_,requestLogID:f,retryOfRequestLogID:n,startTime:h}}getAPIList(t,s,n){return this.requestAPIList(s,{method:"get",path:t,...n})}requestAPIList(t,s){const n=this.makeRequest(s,null,void 0);return new pf(this,n,t)}async fetchWithTimeout(t,s,n,r){const{signal:i,method:o,...a}=s||{};i&&i.addEventListener("abort",()=>r.abort());const l=setTimeout(()=>r.abort(),n),f=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:r.signal,...f?{duplex:"half"}:{},method:"GET",...a};o&&(u.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,u)}finally{clearTimeout(l)}}async shouldRetry(t){const s=t.headers.get("x-should-retry");return s==="true"?!0:s==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,s,n,r){let i;const o=r?.get("retry-after-ms");if(o){const l=parseFloat(o);Number.isNaN(l)||(i=l)}const a=r?.get("retry-after");if(a&&!i){const l=parseFloat(a);Number.isNaN(l)?i=Date.parse(a)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(s,l)}return await zu(i),this.makeRequest(t,s-1,n)}calculateDefaultRetryTimeoutMillis(t,s){const i=s-t,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}calculateNonstreamingTimeout(t,s){if(36e5*t/128e3>6e5||s!=null&&t>s)throw new Y("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(t,{retryCount:s=0}={}){const n={...t},{method:r,path:i,query:o,defaultBaseURL:a}=n,l=this.buildURL(i,o,a);"timeout"in n&&Gu("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:f,body:u}=this.buildBody({options:n}),h=await this.buildHeaders({options:t,method:r,bodyHeaders:f,retryCount:s});return{req:{method:r,headers:h,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:l,timeout:n.timeout}}async buildHeaders({options:t,method:s,bodyHeaders:n,retryCount:r}){let i={};this.idempotencyHeader&&s!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const o=ne([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...tf(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(t),this._options.defaultHeaders,n,t.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:s}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=ne([s]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Ua(t)}:g(this,Mn,"f").call(this,{body:t,headers:n})}}ui=we,Mn=new WeakMap,jr=new WeakSet,ol=function(){return this.baseURL!=="https://api.anthropic.com"};we.Anthropic=ui;we.HUMAN_PROMPT=Pf;we.AI_PROMPT=Rf;we.DEFAULT_TIMEOUT=6e5;we.AnthropicError=Y;we.APIError=$e;we.APIConnectionError=Xn;we.APIConnectionTimeoutError=Pa;we.APIUserAbortError=et;we.NotFoundError=Ia;we.ConflictError=Oa;we.RateLimitError=La;we.BadRequestError=Ra;we.AuthenticationError=$a;we.InternalServerError=Fa;we.PermissionDeniedError=Ca;we.UnprocessableEntityError=Na;we.toFile=wf;class Gs extends we{constructor(){super(...arguments),this.completions=new nl(this),this.messages=new ci(this),this.models=new il(this),this.beta=new as(this)}}Gs.Completions=nl;Gs.Messages=ci;Gs.Models=il;Gs.Beta=as;const $f="claude-3-5-sonnet-20241022",Cf=800,If="You are a thoughtful Shakespeare tutor. Offer clear, grounded explanations that connect language, rhetoric, and dramatic stakes. Focus on the play text provided and avoid spoilers beyond the surrounding context unless asked.";function Of(e){return e.map(t=>{const s=t.character?` (${t.character})`:"";return`Line ${t.sentence}${s}: ${t.text}`}).join(`
`)}function Nf(e){const t=Of(e.contextWindow);return`${If}

Play: ${e.playName}
Act: ${e.actNumber}
Scene: ${e.sceneNumber}
Speaker: ${e.speaker}
Line number: ${e.lineSentence}
Line text: ${e.lineText}

Context window:
${t}`}function Lf(e){return e.filter(t=>t.role!=="system").map(t=>({role:t.role,content:[{type:"text",text:t.text}]}))}async function Ff(e){const t=e.apiKey.trim();if(!t)throw new Error("Missing Anthropic API key. Add it in the chat panel to continue.");const s=new Gs({apiKey:t,dangerouslyAllowBrowser:!0}),n=Nf(e),r=Lf(e.messages),o=(await s.messages.create({model:$f,max_tokens:Cf,temperature:.6,system:n,messages:r})).content.flatMap(l=>l.type==="text"?[l.text]:[]).join(`
`).trim();if(!o)throw new Error("Claude did not return any text. Try asking again.");const a=e.followUpOptions;return{assistantText:o,followUpOptions:a}}const al="explain-chat-sort-mode",ll=typeof window<"u",jf="Explain this line to me";function Bf(){if(!ll)return"updated";const e=window.localStorage.getItem(al);return e==="created"||e==="play"?e:"updated"}function Uf(e){ll&&window.localStorage.setItem(al,e)}function Df(e){return{id:Aa({playId:e.playId,actNumber:e.actNumber,sceneNumber:e.sceneNumber,lineGlobalIndex:e.lineGlobalIndex}),playId:e.playId,playName:e.playName,actNumber:e.actNumber,sceneNumber:e.sceneNumber,lineGlobalIndex:e.lineGlobalIndex,lineSentence:e.lineSentence,speaker:e.speaker,lineText:e.lineText,contextWindow:e.contextWindow,status:"open",visibility:"visible",messages:is([]),followUpOptions:[...qu],pending:!1,error:null,createdAt:Date.now(),updatedAt:Date.now(),hasHistory:!1,defaultUserText:jf}}function Hf(e,t){const s=[...e];switch(t){case"created":s.sort((n,r)=>r.createdAt-n.createdAt);break;case"play":s.sort((n,r)=>n.playName!==r.playName?n.playName.localeCompare(r.playName):n.actNumber!==r.actNumber?n.actNumber-r.actNumber:n.sceneNumber!==r.sceneNumber?n.sceneNumber-r.sceneNumber:n.lineSentence-r.lineSentence);break;case"updated":default:s.sort((n,r)=>r.updatedAt-n.updatedAt);break}return s}const yo=Symbol("ExplainChatStore");function Ws(){const e=Ws[yo];if(e)return e;const t=is([]),s=Te(!1),n=Te(Bf()),r=Te(null),i=Te("");function o(R){return t.find(U=>U.id===R)??null}function a(R){t.forEach(U=>{U.id!==R&&U.status==="open"&&(U.status="collapsed")})}function l(R){R.updatedAt=Date.now()}function f(R){const U=Aa({playId:R.playId,actNumber:R.actNumber,sceneNumber:R.sceneNumber,lineGlobalIndex:R.lineGlobalIndex});let C=o(U);return C?(C.status="open",C.visibility="visible",C.lineText=R.lineText,C.lineSentence=R.lineSentence,C.speaker=R.speaker,C.contextWindow=R.contextWindow):(C=Df(R),t.push(C)),a(U),l(C),U}function u(R){const U=o(R);U&&(U.status="collapsed",U.pending=!1,l(U))}function h(R){const U=t.findIndex(C=>C.id===R);U!==-1&&t.splice(U,1)}async function _(R,U){const C=o(R);if(!C)return;const Me=U.trim();if(!Me)return;const N=i.value.trim();if(!N){C.error="Add your Anthropic API key in the chat panel to start chatting.",l(C);return}const j={id:Gi(),role:"user",text:Me,timestamp:Date.now()};C.messages.push(j),C.pending=!0,C.error=null,C.hasHistory=!0,l(C);try{const V=await Ff({apiKey:N,playName:C.playName,actNumber:C.actNumber,sceneNumber:C.sceneNumber,lineSentence:C.lineSentence,speaker:C.speaker,lineText:C.lineText,contextWindow:C.contextWindow,messages:C.messages.map(te=>({role:te.role==="assistant"?"assistant":"user",text:te.text})),followUpOptions:C.followUpOptions}),be={id:Gi(),role:"assistant",text:V.assistantText,timestamp:Date.now()};C.messages.push(be),C.followUpOptions=V.followUpOptions?.length>0?V.followUpOptions:C.followUpOptions,C.pending=!1,l(C)}catch(V){C.pending=!1,C.error=V instanceof Error?V.message:"Unable to fetch explanation.",l(C)}}function p(R,U){const C=o(R);C&&(C.error=U,l(C))}function S(){s.value=!s.value}function T(){s.value=!0}function K(){s.value=!1}function I(R){n.value!==R&&(n.value=R)}function W(R){r.value=R}function O(R){r.value===R&&(r.value=null)}function E(R){t.forEach(U=>{if(U.playId===R.playId&&U.actNumber===R.actNumber&&U.sceneNumber===R.sceneNumber){const C=R.visibleGlobalLineIds.includes(U.lineGlobalIndex);U.visibility=C?"visible":"hidden",!C&&U.status==="open"&&(U.status="collapsed")}})}const B=Z(()=>Hf(t,n.value)),he=Z(()=>t.find(R=>R.status==="open")??null);He(n,R=>{Uf(R)},{immediate:!0});const re={sessions:t,openSession:he,sortedSessions:B,panelOpen:Z(()=>s.value),sortMode:Z(()=>n.value),pendingFocusSessionId:Z(()=>r.value),openSessionId:Z(()=>he.value?.id??null),apiKey:Z(()=>i.value),getSessionById:o,openSessionAtLine(R){return f(R)},collapseSession:u,closeSession:h,sendMessage:_,setError:p,togglePanel:S,openPanel:T,closePanel:K,setSortMode:I,requestFocus:W,clearPendingFocus:O,syncVisibility:E,setApiKey(R){i.value=R.trim()}};return Ws[yo]=re,re}const Wf={class:"controls","aria-label":"Scene controls"},qf={class:"control-group"},Kf={class:"chip-group"},Vf=["onClick"],Jf={class:"control-group"},Xf={class:"chip-group"},Gf=["onClick"],zf={class:"control-group wide"},Yf={class:"control-group chat-summary"},Qf={class:"chat-summary__count"},Zf=os({__name:"SceneControls",setup(e){const t=Vs(),s=Ws(),n=t.acts,r=t.scenes,i=t.selectedActNumber,o=t.selectedSceneNumber,a=t.lineSearchModel,l=Z(()=>s.sessions.length),f=Z(()=>l.value>0);function u(p){t.selectAct(p)}function h(p){t.selectScene(p)}function _(){s.togglePanel()}return(p,S)=>(Q(),ee("section",Wf,[w("div",qf,[S[1]||(S[1]=w("span",{class:"control-label"},"Act",-1)),w("div",Kf,[(Q(!0),ee(Se,null,It(le(n),T=>(Q(),ee("button",{key:T.number,type:"button",class:ze(["chip",{active:T.number===le(i)}]),onClick:K=>u(T.number)},ce(T.number),11,Vf))),128))])]),w("div",Jf,[S[2]||(S[2]=w("span",{class:"control-label"},"Scene",-1)),w("div",Xf,[(Q(!0),ee(Se,null,It(le(r),T=>(Q(),ee("button",{key:T.number,type:"button",class:ze(["chip",{active:T.number===le(o)}]),onClick:K=>h(T.number)},ce(T.number),11,Gf))),128))])]),w("div",zf,[S[3]||(S[3]=w("label",{class:"control-label",for:"line-search"},"Search lines",-1)),Hn(w("input",{id:"line-search","onUpdate:modelValue":S[0]||(S[0]=T=>ve(a)?a.value=T:null),type:"search",placeholder:"Filter dialogue or characters"},null,512),[[Jn,le(a)]])]),w("div",Yf,[S[5]||(S[5]=w("span",{class:"control-label"},"Questions",-1)),w("button",{type:"button",class:ze(["chat-summary__button",{active:f.value}]),onClick:_},[S[4]||(S[4]=w("span",null,"Active chats",-1)),w("span",Qf,ce(l.value),1)],2)])]))}});function ed(e){const t=Te(null),s=Te(!1),n=()=>t.value?.scrollTop??null;e.registerScrollProvider(n);function r(){s.value||e.persistCurrentScroll()}return He(t,(i,o)=>{o&&o.removeEventListener("scroll",r),i&&i.addEventListener("scroll",r,{passive:!0})}),He(()=>[e.selectedPlayId.value,e.selectedActNumber.value,e.selectedSceneNumber.value],async([i,o,a])=>{if(!i||o==null||a==null)return;await lt();const l=t.value;l&&(s.value=!0,l.scrollTop=e.getStoredScroll(i,o,a),typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>{s.value=!1}):s.value=!1)},{flush:"post",immediate:!0}),Zr(()=>{e.persistCurrentScroll();const i=t.value;i&&i.removeEventListener("scroll",r),e.unregisterScrollProvider(n)}),{containerRef:t}}const td={class:"explain-chat__header"},sd={class:"explain-chat__title"},nd={class:"explain-chat__meta"},rd={class:"explain-chat__actions"},id={class:"explain-chat__body"},od={class:"explain-chat__messages"},ad={class:"explain-chat__message-role"},ld={class:"explain-chat__message-text"},cd={key:0,class:"explain-chat__status"},ud={key:1,class:"explain-chat__error",role:"alert"},fd={class:"explain-chat__footer"},dd=["for"],hd=["id","placeholder","disabled"],pd=["disabled"],gd={key:0,class:"explain-chat__suggestions"},md=["onClick","disabled"],_d=os({__name:"ExplainChat",props:{session:{},positionStyle:{}},emits:["collapse","close","send","follow-up"],setup(e,{emit:t}){const s=e,n=t,r=Te(s.session.defaultUserText);He(()=>s.session.defaultUserText,_=>{s.session.hasHistory||(r.value=_)}),He(()=>s.session.status,_=>{_==="open"&&!s.session.hasHistory&&(r.value=s.session.defaultUserText)});const i=Z(()=>s.session.pending||!r.value.trim()),o=Z(()=>s.session.messages.filter(_=>_.role==="assistant"));function a(){i.value||(n("send",{sessionId:s.session.id,text:r.value}),r.value="")}function l(_){n("follow-up",{sessionId:s.session.id,text:_})}const f=Z(()=>s.positionStyle??{}),u=Z(()=>o.value.length>0&&s.session.followUpOptions.length>0),h=_=>`${_.id}-${_.role}`;return(_,p)=>(Q(),ee("section",{class:"explain-chat",style:Bn(f.value)},[w("header",td,[w("div",sd,[w("strong",null,ce(e.session.playName),1),w("span",nd," Act "+ce(e.session.actNumber)+", Scene "+ce(e.session.sceneNumber)+", line "+ce(e.session.lineSentence),1)]),w("div",rd,[w("button",{type:"button",class:"icon-button",onClick:p[0]||(p[0]=S=>n("collapse",e.session.id)),"aria-label":"Collapse chat"},"  "),w("button",{type:"button",class:"icon-button",onClick:p[1]||(p[1]=S=>n("close",e.session.id)),"aria-label":"Close chat"},"  ")])]),w("div",id,[w("ul",od,[(Q(!0),ee(Se,null,It(e.session.messages,S=>(Q(),ee("li",{key:h(S),class:ze(["explain-chat__message",`is-${S.role}`])},[w("span",ad,ce(S.role==="assistant"?"Tutor":"You"),1),w("p",ld,ce(S.text),1)],2))),128))]),e.session.pending?(Q(),ee("p",cd,"Thinking")):Rt("",!0),e.session.error?(Q(),ee("p",ud,ce(e.session.error),1)):Rt("",!0)]),w("footer",fd,[w("form",{class:"explain-chat__form",onSubmit:ka(a,["prevent"])},[w("label",{class:"sr-only",for:`chat-input-${e.session.id}`},"Ask about this line",8,dd),Hn(w("input",{id:`chat-input-${e.session.id}`,"onUpdate:modelValue":p[2]||(p[2]=S=>r.value=S),type:"text",class:"explain-chat__input",placeholder:e.session.defaultUserText,disabled:e.session.pending},null,8,hd),[[Jn,r.value]]),w("button",{type:"submit",class:"explain-chat__send",disabled:i.value},"Send",8,pd)],32),u.value?(Q(),ee("div",gd,[p[3]||(p[3]=w("span",{class:"explain-chat__suggestions-label"},"Try asking:",-1)),(Q(!0),ee(Se,null,It(e.session.followUpOptions,S=>(Q(),ee("button",{key:S,type:"button",class:"explain-chat__suggestion",onClick:T=>l(S),disabled:e.session.pending},ce(S),9,md))),128))])):Rt("",!0)])],4))}});function bd(e){const t=[];let s=0;for(const n of e.acts)for(const r of n.scenes)for(const i of r.lines)t.push({globalIndex:i.globalIndex,sentence:i.sentence,character:i.character,text:i.text,__index:s++});return t}function yd(e,t){return e.findIndex(s=>s.globalIndex===t)}function wd(e,t,s){const n=Math.max(0,t-s),r=Math.min(e.length-1,t+s);return e.slice(n,r+1).map(({__index:i,...o})=>o)}function Sd(e,t,s=20){if(!e)return[];const n=bd(e);if(!n.length)return[];const r=yd(n,t);return r===-1?[]:wd(n,r,s)}const xd={class:"scene"},vd={class:"scene-header"},Md={class:"scene-meta"},Td={class:"line-list"},kd={class:"line-meta"},Ad={class:"line-meta-text"},Ed={class:"line-index"},Pd={class:"line-speaker"},Rd=["onClick","aria-pressed"],$d={class:"line-explain-icon"},Cd={class:"line-explain-label"},Id=["innerHTML"],Od={key:0,class:"status"},Nd=os({__name:"SceneViewer",setup(e){const t=Vs(),s=Ws(),n=t.currentPlay,r=t.currentAct,i=t.currentScene,o=t.lines,a=t.highlight,{containerRef:l}=ed(t),f=new Map,u=Te(0);function h(){u.value++}function _(N){if(!N)return null;if(N instanceof HTMLElement)return N;const j=N.$el;return j instanceof HTMLElement?j:null}function p(N,j){const V=_(N),be=f.get(j)??null;if(V){if(be===V)return;f.set(j,V),h();return}be&&(f.delete(j),h())}Qr(()=>{window.addEventListener("resize",h),window.addEventListener("scroll",h,!0)}),Zr(()=>{window.removeEventListener("resize",h),window.removeEventListener("scroll",h,!0),f.clear()}),He(l,(N,j)=>{j?.removeEventListener("scroll",h),N?.addEventListener("scroll",h)},{immediate:!0});const S=Z(()=>{const N=new Map,j=n.value,V=r.value,be=i.value;return!j||!V||!be||s.sessions.forEach(te=>{te.playId===j.id&&te.actNumber===V.number&&te.sceneNumber===be.number&&N.set(te.lineGlobalIndex,te)}),N}),T=Z(()=>o.value.map(N=>N.globalIndex));He(T,N=>{const j=n.value,V=r.value,be=i.value;!j||!V||!be||(s.syncVisibility({playId:j.id,actNumber:V.number,sceneNumber:be.number,visibleGlobalLineIds:N}),h())},{immediate:!0}),He(()=>s.openSessionId.value,()=>{lt(()=>h())}),He(()=>o.value.length,()=>{lt(()=>h())});function K(N){const j=n.value;if(!j)return null;const V=Sd(j,N,20);return V.length?V:null}function I(N){return S.value.get(N)??null}function W(N){const j=I(N);return{"has-session":!!j,"has-history":!!j?.hasHistory,"is-open":j?.status==="open"}}function O(N){const j=I(N);return j?j.status==="open"?"Chat open":j.hasHistory?"Resume chat":"Explain line":"Explain line"}function E(N){const j=n.value,V=r.value,be=i.value;if(!j||!V||!be)return;const te=K(N.globalIndex);te&&(s.openSessionAtLine({playId:j.id,playName:j.name,actNumber:V.number,sceneNumber:be.number,lineGlobalIndex:N.globalIndex,lineSentence:N.sentence,speaker:N.character,lineText:N.text,contextWindow:te}),lt(()=>h()))}function B(N){s.collapseSession(N),lt(()=>h())}function he(N){s.collapseSession(N),lt(()=>h())}function re(N){s.sendMessage(N.sessionId,N.text)}function R(N){s.sendMessage(N.sessionId,N.text)}function U(N){const j=f.get(N);j&&j.scrollIntoView({behavior:"smooth",block:"center"})}He(()=>s.pendingFocusSessionId.value,async N=>{if(!N)return;const j=s.getSessionById(N);if(!j){s.clearPendingFocus(N);return}await lt();const V=K(j.lineGlobalIndex);if(!V){s.clearPendingFocus(N);return}s.openSessionAtLine({playId:j.playId,playName:j.playName,actNumber:j.actNumber,sceneNumber:j.sceneNumber,lineGlobalIndex:j.lineGlobalIndex,lineSentence:j.lineSentence,speaker:j.speaker,lineText:j.lineText,contextWindow:V}),await lt(),U(j.lineGlobalIndex),h(),s.clearPendingFocus(N)});const C=Z(()=>s.openSession.value),Me=Z(()=>{u.value;const N=C.value;if(!N)return null;const j=f.get(N.lineGlobalIndex);if(!j)return null;const V=j.getBoundingClientRect(),be=V.top+window.scrollY,te=V.right+32,fe=360,ie=window.innerWidth-fe-24,P=Math.max(24,Math.min(te,ie));return{top:`${Math.max(24,be-16)}px`,left:`${P}px`,width:`${fe}px`}});return(N,j)=>(Q(),ee(Se,null,[w("section",xd,[w("header",vd,[w("h3",null,"Act "+ce(le(r)?.number)+", Scene "+ce(le(i)?.number),1),w("p",Md,[ni(ce(le(i)?.lines.length??0)+" lines  ",1),w("span",null,ce(le(o).length)+" shown",1)])]),w("div",{class:"scene-scroll",ref_key:"containerRef",ref:l},[w("ol",Td,[(Q(!0),ee(Se,null,It(le(o),V=>(Q(),ee("li",{key:V.globalIndex,class:"line-item",ref_for:!0,ref:be=>p(be,V.globalIndex)},[w("div",kd,[w("div",Ad,[w("span",Ed,"#"+ce(V.sentence),1),w("span",Pd,ce(V.character),1)]),w("button",{type:"button",class:ze(["line-explain-button",W(V.globalIndex)]),onClick:be=>E(V),"aria-pressed":I(V.globalIndex)?.status==="open"},[w("span",$d,ce(I(V.globalIndex)?.hasHistory?"++":"+"),1),w("span",Cd,ce(O(V.globalIndex)),1)],10,Rd)]),w("p",{class:"line-text",innerHTML:le(a)(V.text)},null,8,Id)]))),128))]),le(o).length?Rt("",!0):(Q(),ee("p",Od,"No lines match this search."))],512)]),(Q(),Us(Qo,{to:"body"},[C.value&&Me.value?(Q(),Us(_d,{key:0,session:C.value,"position-style":Me.value,onCollapse:B,onClose:he,onSend:re,onFollowUp:R},null,8,["session","position-style"])):Rt("",!0)]))],64))}}),Ld={class:"chat-panel",role:"dialog","aria-modal":"true","aria-label":"Active chats"},Fd={class:"chat-panel__header"},jd={class:"chat-panel__controls"},Bd={class:"chat-panel__sort"},Ud=["value"],Dd=["value"],Hd={class:"chat-panel__body",role:"list"},Wd={class:"chat-panel__api","aria-label":"Anthropic API key"},qd={class:"chat-panel__api-row"},Kd={key:0,class:"chat-panel__empty"},Vd={class:"chat-panel__row-main"},Jd=["onClick"],Xd={class:"chat-panel__row-title"},Gd={class:"chat-panel__row-meta"},zd={class:"chat-panel__row-actions"},Yd=["onClick"],Qd=["onClick"],Zd=os({__name:"ExplainChatSessionsPanel",setup(e){const t=Ws(),s=Vs(),n=[{value:"updated",label:"Last updated"},{value:"created",label:"Date created"},{value:"play",label:"Play / Act / Scene / Line"}],r=Z(()=>t.sortedSessions.value),i=Z(()=>t.panelOpen.value),o=Z(()=>t.sortMode.value),a=Z(()=>t.apiKey.value),l=Te(a.value);He(a,O=>{l.value=O},{immediate:!0});function f(){t.closePanel()}function u(O){const B=O.target.value;t.setSortMode(B)}function h(O){return`Act ${O.actNumber}, Scene ${O.sceneNumber}, line ${O.lineSentence}`}function _(O){return O.pending?"Waiting":O.status==="open"?"Open":O.visibility==="hidden"?"Hidden":O.hasHistory?"Notes saved":"New"}async function p(O){s.selectedPlayId.value!==O.playId&&s.selectPlay(O.playId),s.selectedActNumber.value!==O.actNumber&&s.selectAct(O.actNumber,{rememberScroll:!1}),s.selectedSceneNumber.value!==O.sceneNumber&&s.selectScene(O.sceneNumber,{rememberScroll:!1}),await lt()}async function S(O){await p(O),t.requestFocus(O.id),t.closePanel()}async function T(O){await p(O),t.requestFocus(O.id),t.closePanel()}function K(O){t.closeSession(O.id)}function I(){t.setApiKey(l.value)}function W(){l.value="",t.setApiKey("")}return(O,E)=>(Q(),Us(Qo,{to:"body"},[i.value?(Q(),ee("div",{key:0,class:"chat-panel-overlay",onClick:ka(f,["self"])},[w("section",Ld,[w("header",Fd,[E[2]||(E[2]=w("h2",null,"Active chats",-1)),w("div",jd,[w("label",Bd,[E[1]||(E[1]=ni(" Sort: ",-1)),w("select",{value:o.value,onChange:u},[(Q(),ee(Se,null,It(n,B=>w("option",{key:B.value,value:B.value},ce(B.label),9,Dd)),64))],40,Ud)]),w("button",{type:"button",class:"icon-button",onClick:f,"aria-label":"Close panel"},"  ")])]),w("div",Hd,[w("section",Wd,[E[3]||(E[3]=w("label",{class:"chat-panel__api-label",for:"chat-panel-api-key"},"Anthropic API key",-1)),w("div",qd,[Hn(w("input",{id:"chat-panel-api-key","onUpdate:modelValue":E[0]||(E[0]=B=>l.value=B),type:"password",class:"chat-panel__input",placeholder:"sk-ant-..."},null,512),[[Jn,l.value]]),w("div",{class:"chat-panel__api-actions"},[w("button",{type:"button",class:"chat-panel__secondary",onClick:I}," Save "),w("button",{type:"button",class:"chat-panel__secondary",onClick:W}," Clear ")])]),E[4]||(E[4]=w("p",{class:"chat-panel__api-hint"}," Provide an Anthropic API key to chat with Claude (kept only for this session; not stored). ",-1))]),r.value.length?Rt("",!0):(Q(),ee("p",Kd," No chats yet  ask about a line to get started. ")),(Q(!0),ee(Se,null,It(r.value,B=>(Q(),ee("article",{key:B.id,role:"listitem",class:"chat-panel__row"},[w("div",Vd,[w("button",{type:"button",class:"chat-panel__row-button",onClick:he=>S(B)},[w("span",Xd,ce(B.playName),1),w("span",Gd,ce(h(B)),1)],8,Jd),w("span",{class:ze(["chat-panel__status",`is-${B.status}`,B.visibility==="hidden"?"is-hidden":""])},ce(_(B)),3)]),w("div",zd,[w("button",{type:"button",class:"chat-panel__secondary",onClick:he=>T(B)}," Reopen ",8,Yd),w("button",{type:"button",class:"chat-panel__secondary",onClick:he=>K(B)}," Remove ",8,Qd)])]))),128))])])])):Rt("",!0)]))}}),eh={class:"reader-app"},th={key:0,class:"main"},sh={class:"play-header"},nh={class:"play-details"},rh={key:1,class:"status"},ih={key:1,class:"main"},oh={key:1,class:"layout"},ah={class:"status error"},lh=os({__name:"App",setup(e){const t=Vs(),s=t.plays,n=t.sidebarOpen,r=t.currentPlay,i=t.currentScene,o=t.error;return Qr(()=>{s.value.length||t.init()}),(a,l)=>(Q(),ee(Se,null,[w("div",eh,[l[2]||(l[2]=w("header",{class:"masthead"},[w("h1",null,"Shakespeare Explorer"),w("p",{class:"tagline"}," A concise reader for the plays, inspired by Tuftes quiet typography. ")],-1)),le(o)?(Q(),ee("div",oh,[w("p",ah,ce(le(o)),1)])):(Q(),ee("div",{key:0,class:ze(["layout",{"sidebar-collapsed":!le(n)}])},[Qe(Wu),le(r)?(Q(),ee("main",th,[w("section",sh,[w("h2",null,ce(le(r).name),1),w("p",nh,[w("span",null,ce(le(r).genre),1),l[0]||(l[0]=w("span",{"aria-hidden":"true"},"",-1)),w("span",null,ce(le(r).characters.length)+" characters",1)])]),Qe(Zf),le(i)?(Q(),Us(Nd,{key:0})):(Q(),ee("p",rh,"Select an act and scene to begin reading."))])):(Q(),ee("main",ih,[...l[1]||(l[1]=[w("section",{class:"play-header"},[w("h2",null,"Shakespeare Explorer"),w("p",{class:"play-details"},"Choose a play from the list to begin.")],-1),w("p",{class:"status"},"Select a play to continue.",-1)])]))],2))]),Qe(Zd)],64))}});ku(lh).mount("#app");
